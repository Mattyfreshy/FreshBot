2023-06-01 20:31:56,888: root: INFO: FreshTrading : Executing the initialize lifecycle method
2023-06-01 20:31:57,518: root: INFO: Current backtesting datetime 2020-01-02 08:30:00-05:00
2023-06-01 20:31:57,518: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:57,520: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:57,520: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:57,520: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:57,521: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,324: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,326: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,326: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,327: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,327: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,328: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,329: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,330: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,330: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,330: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,331: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,332: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,332: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,332: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,333: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,333: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,334: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,334: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,335: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,335: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,336: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,336: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,337: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,337: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,337: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,338: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,338: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,339: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,340: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,340: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,340: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,341: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,341: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,342: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,343: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,343: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,344: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,344: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,345: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,345: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,346: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,346: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,346: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,346: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,347: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,347: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,348: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,348: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,348: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,349: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,349: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,350: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,350: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,351: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,351: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,351: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,352: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,352: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,352: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,353: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,353: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,353: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,354: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,354: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,355: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,355: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,356: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,356: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,356: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,357: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,357: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,358: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,358: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,359: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,359: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,359: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,360: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,360: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,360: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,360: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,361: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,361: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,361: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,362: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,362: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,362: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,363: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,363: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,363: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,364: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,364: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,364: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,364: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,365: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,365: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,365: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,366: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,366: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,366: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,367: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,367: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,367: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,367: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,367: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,368: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,368: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,369: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,369: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,369: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,369: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,370: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,370: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,371: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,372: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,372: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,372: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,373: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,373: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,373: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,374: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,374: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,374: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,375: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,375: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,375: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,376: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,376: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,376: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,377: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,377: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,377: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,377: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,378: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,378: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,378: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,379: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,379: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,379: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,379: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,380: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,380: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,380: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,380: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,381: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,381: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,381: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,382: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,382: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,382: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,383: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,383: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,383: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,383: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,384: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,384: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,384: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,384: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,385: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,385: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,386: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,386: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,386: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,386: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,387: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,387: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,388: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,388: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,388: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,389: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,389: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,389: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,390: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,390: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,390: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,391: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,391: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,392: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,392: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,392: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,393: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,393: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,393: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,393: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,394: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,394: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,394: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,394: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,395: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,395: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,395: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,396: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,396: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,396: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,397: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,397: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,397: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,398: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,398: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,398: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,398: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,399: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,399: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,399: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,400: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,400: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,400: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,400: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,401: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,401: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,402: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,402: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,403: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,404: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,404: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,405: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,405: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,406: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,406: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,406: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,406: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,407: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,407: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,408: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,409: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,409: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,409: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,410: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,410: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,410: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,411: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,411: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,411: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,411: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,411: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,412: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,412: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,412: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,413: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,413: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,413: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,413: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,413: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,414: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,414: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,414: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,415: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,415: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,415: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,415: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,416: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,416: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,416: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,416: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,417: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,417: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,417: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,418: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,418: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,418: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,418: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,419: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,419: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,419: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,420: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,420: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,421: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,421: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,421: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,422: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,422: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,422: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,423: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,423: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,423: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,423: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,424: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,424: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,424: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,425: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,425: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,425: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,425: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,426: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,426: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,426: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,426: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,427: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,427: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,427: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,427: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,427: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,428: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,428: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,428: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,428: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,429: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,429: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,429: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,429: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,429: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,430: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,430: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,430: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,430: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,431: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,431: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,431: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,431: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,432: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,432: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,432: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,432: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,433: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,433: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,433: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,434: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,434: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,434: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,434: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,435: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,435: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,435: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,436: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,436: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,436: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,437: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,437: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,437: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,437: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,438: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,438: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,438: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,438: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,439: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,439: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,439: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,439: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,440: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,440: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,440: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,440: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,441: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,441: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,441: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,442: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,442: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,442: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,442: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,443: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,443: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,443: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,443: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,444: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,444: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,444: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,444: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,444: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,445: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,445: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,445: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,445: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,446: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,446: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,446: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,446: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,447: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,447: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,447: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,447: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,448: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,448: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,448: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,448: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,448: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,449: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,449: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,449: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,450: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,450: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,450: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,450: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,451: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,451: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,451: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,451: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,452: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,452: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,452: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,453: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,453: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,453: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,454: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,454: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,454: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,455: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,455: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,455: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,456: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,456: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,456: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,456: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,457: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,457: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,457: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,457: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,458: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,458: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,458: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,458: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,459: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,459: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,459: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,459: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,460: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,460: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,460: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,460: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,461: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,461: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,461: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,461: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,462: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,462: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,462: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,462: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,463: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,463: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,463: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,463: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,464: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,464: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,464: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,464: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,464: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,465: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,465: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,465: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,465: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,466: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,466: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,466: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,466: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,467: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,467: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,467: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,468: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,468: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,468: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,468: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,469: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,469: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,470: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,470: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,470: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,471: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,471: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,472: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,472: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,472: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,472: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,473: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,473: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,473: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,473: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,474: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,475: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,475: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,475: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,476: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,476: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,476: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,477: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,477: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,477: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,478: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,479: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,479: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,479: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,480: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,480: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,480: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,481: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,481: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,481: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,482: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,483: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,484: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,484: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,484: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,484: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,485: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,485: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,485: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,485: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,486: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,486: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,487: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,488: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,488: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,489: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,489: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,489: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,489: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,490: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,490: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,490: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,491: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,492: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,494: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,494: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,495: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,495: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,496: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,496: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,496: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,497: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,497: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,497: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,498: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,500: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,500: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,500: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,500: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,501: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,501: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,501: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,501: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,502: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,502: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,503: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,504: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,504: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,505: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,506: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,507: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,507: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,509: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,509: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,510: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,510: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,512: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,513: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,513: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,513: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,514: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,514: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,514: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,515: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,515: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,515: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,515: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,516: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,517: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,517: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,517: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,518: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,518: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,518: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,519: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,519: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,519: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,520: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,520: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,521: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,521: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,522: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,522: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,522: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,523: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,523: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,523: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,524: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,524: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,524: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,524: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,524: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,525: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,525: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,526: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,526: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,526: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,526: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,527: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,527: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,527: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,529: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,530: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,531: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,532: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,532: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,532: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,533: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,533: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,533: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,533: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,534: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,536: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,536: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,537: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,537: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,538: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,538: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,538: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,538: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,539: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,539: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,540: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,540: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,540: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,541: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,541: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,542: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,542: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,542: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,542: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,543: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,543: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,543: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,543: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,544: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,544: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,544: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,545: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,545: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,545: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,545: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,546: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,546: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,546: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,546: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,546: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,547: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,547: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,547: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,547: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,548: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,548: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,548: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,548: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,548: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,549: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,549: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,549: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,550: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,550: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,550: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,551: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,551: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,551: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,551: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,551: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,552: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,552: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,552: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,553: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,553: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,553: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,554: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,554: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,554: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,555: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,555: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,555: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,555: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,556: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,556: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,556: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,556: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,557: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,557: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,557: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,557: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,557: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,558: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,558: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,558: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,559: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,559: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,559: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,559: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,559: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,560: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,560: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,560: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,561: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,561: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,561: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,561: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,562: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,562: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,562: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,562: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,563: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,563: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,563: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,563: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,563: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,564: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,564: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,564: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,564: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,565: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,565: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,565: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,566: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,566: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,566: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,566: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,567: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,567: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,567: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,567: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,568: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,568: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,568: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,568: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,569: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,569: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,569: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,569: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,570: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,570: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,570: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,571: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,571: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,572: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,572: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,572: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,572: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,572: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,573: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,573: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,573: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,574: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,574: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,574: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,574: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,575: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,575: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,575: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,575: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,576: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,576: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,576: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,576: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,577: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,577: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,577: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,577: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,578: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,578: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,578: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,579: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,579: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,579: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,579: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,580: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,580: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,580: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,580: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,581: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,581: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,581: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,581: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,582: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,582: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,582: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,582: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,583: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,583: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,583: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,583: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,584: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,584: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,584: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,585: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,585: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,585: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,585: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,586: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,586: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,586: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,587: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,587: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,587: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,587: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,588: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,588: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,588: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,588: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,589: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,589: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,589: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,589: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,589: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,590: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,590: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,590: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,590: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,591: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,591: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,591: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,591: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,592: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,592: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,592: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,592: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,593: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,593: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,593: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,593: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,593: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,594: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,594: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,594: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,595: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,595: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,595: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,595: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,596: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,596: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,596: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,596: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,597: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,597: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,597: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,597: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,598: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,598: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,598: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,599: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,599: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,599: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,599: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,599: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,600: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,600: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,600: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,600: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,601: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,601: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,601: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,601: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,602: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,602: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,602: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,602: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,603: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,603: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,603: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,604: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,604: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,605: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,605: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,605: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,606: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,606: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,606: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,606: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,607: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,607: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,607: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,608: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,608: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,608: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,608: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,609: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,609: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,609: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,609: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,610: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,610: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,610: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,610: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,611: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,611: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,611: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,611: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,612: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,612: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,612: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,612: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,612: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,613: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,613: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,613: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,614: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,614: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,614: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,614: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,615: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,615: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,615: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,615: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,615: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,616: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,616: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,616: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,616: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,617: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,617: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,617: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,617: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,618: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,618: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,618: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,619: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,619: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,619: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,619: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,620: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,620: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,621: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,621: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,622: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,622: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,622: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,622: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,623: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,623: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,623: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,623: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,624: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,624: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,624: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,625: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,625: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,625: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,625: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,626: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,626: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,626: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,626: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,627: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,627: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,627: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,627: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,627: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,628: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,628: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,628: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,628: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,629: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,629: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,629: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,629: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,629: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,630: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,630: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,630: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,631: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,631: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,631: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,631: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,631: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,632: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,632: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,632: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,633: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,633: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,633: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,633: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,634: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,634: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,634: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,634: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,635: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,635: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,635: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,636: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,636: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,636: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,637: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,637: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,637: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,638: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,638: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,638: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,638: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,639: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,639: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,639: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,639: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,640: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,640: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,640: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,641: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,641: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,641: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,641: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,641: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,642: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,642: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,642: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,642: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,643: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,643: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,643: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,643: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,644: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,644: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,644: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,644: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,644: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,645: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,645: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,645: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,645: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,646: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,646: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,646: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,646: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,646: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,647: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,647: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,647: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,648: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,648: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,648: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,648: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,648: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,649: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,649: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,649: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,650: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,650: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,650: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,650: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,651: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,651: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,651: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,651: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,652: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,652: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,652: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,653: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,653: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,653: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,654: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,654: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,654: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,654: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,654: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,655: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,655: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,655: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,656: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,656: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,656: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,656: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,657: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,657: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,657: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,657: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,658: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,658: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,658: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,658: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,658: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,659: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,659: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,659: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,660: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,660: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,660: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,660: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,661: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,661: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,661: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,661: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,662: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,662: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,662: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,662: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,663: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,663: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,663: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,663: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,663: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,664: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,664: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,664: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,664: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,665: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,665: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,665: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,665: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,666: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,666: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,666: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,666: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,666: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,667: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,667: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,668: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,668: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,668: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,668: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,669: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,669: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,669: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,670: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,670: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,671: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,671: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,671: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,671: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,672: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,672: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,672: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,673: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,673: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,673: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,673: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,674: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,674: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,674: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,674: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,675: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,675: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,675: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,675: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,675: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,676: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,676: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,676: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,677: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,677: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,677: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,677: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,677: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,678: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,678: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,678: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,679: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,679: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,679: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,679: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,680: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,680: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,680: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,680: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,681: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,681: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,681: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,681: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,681: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,682: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,682: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,682: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,682: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,683: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,683: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,683: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,684: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,684: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,684: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,684: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,685: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,685: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,686: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,686: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,686: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,686: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,687: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,687: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,687: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,687: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,687: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,688: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,688: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,688: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,688: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,689: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,689: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,689: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,690: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,690: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,690: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,690: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,690: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,691: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,691: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,691: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,691: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,691: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,692: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,692: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,692: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,693: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,693: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,693: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,693: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,694: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,694: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,694: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,694: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,695: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,695: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,695: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,695: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,695: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,696: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,696: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,696: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,696: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,697: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,697: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,697: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,697: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,697: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,698: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,698: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,698: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,698: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,699: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,699: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,699: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,699: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,700: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,700: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,700: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,701: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,701: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,702: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,702: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,702: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,702: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,703: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,703: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,703: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,703: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,704: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,704: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,704: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,704: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,705: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,705: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,705: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,706: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,706: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,706: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,706: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,707: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,707: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,707: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,707: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,708: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,708: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,708: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,708: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,709: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,709: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,709: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,709: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,710: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,710: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,710: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,710: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,711: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,711: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,711: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,711: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,712: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,712: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,712: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,712: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,712: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,713: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,713: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,713: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,713: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,714: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,714: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,714: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,714: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,715: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,715: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,715: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,715: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,716: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,716: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,716: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,716: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,716: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,717: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,717: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,717: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,718: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,718: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,718: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,718: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,719: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,719: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,720: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,720: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,720: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,720: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,720: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,721: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,721: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,721: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,722: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,722: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,722: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,723: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,723: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,723: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,723: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,723: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,724: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,724: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,724: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,724: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,725: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,725: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,725: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,725: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,726: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,726: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,726: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,726: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,727: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,727: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,727: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,728: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,728: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,728: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,728: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,728: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,729: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,729: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,729: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,729: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,729: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,730: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,730: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,730: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,730: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,731: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,731: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,731: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,731: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,732: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,732: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,732: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,732: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,733: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,733: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,733: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,733: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,734: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,734: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,734: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,735: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,735: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,735: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,736: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,736: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,736: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,737: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,737: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,737: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,737: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,738: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,738: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,738: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,738: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,739: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,739: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,739: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,739: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,740: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,740: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,740: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,740: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,741: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,741: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,741: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,741: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,742: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,742: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,742: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,742: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,743: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,743: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,743: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,743: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,744: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,744: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,744: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,745: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,745: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,745: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,745: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,745: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,746: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,746: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,746: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,746: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,746: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,747: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,747: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,747: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,748: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,748: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,748: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,748: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,748: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,749: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,749: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,749: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,749: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,750: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,750: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,750: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,750: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,751: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,751: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,751: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,752: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,752: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,753: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,753: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,753: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,753: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,754: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,754: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,754: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,754: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,754: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,755: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,755: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,755: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,756: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,756: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,756: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,756: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,756: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,757: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,757: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,757: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,757: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,757: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,758: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,758: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,758: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,759: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,759: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,759: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,759: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,760: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,760: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,760: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,760: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,760: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,761: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,761: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,761: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,761: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,762: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,762: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,762: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,762: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,763: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,763: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,763: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,763: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,764: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,764: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,764: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,764: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,765: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,765: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,765: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,765: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,765: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,766: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,766: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,766: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,766: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,767: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,767: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,768: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,768: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,768: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,769: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,769: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,769: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,769: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,770: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,770: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,770: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,770: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,771: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,771: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,771: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,771: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,772: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,772: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,772: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,773: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,773: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,773: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,773: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,773: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,774: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,774: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,774: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,774: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,775: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,775: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,775: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,775: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,776: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,776: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,776: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,776: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,776: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,777: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,777: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,777: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,778: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,778: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,778: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,778: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,778: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,779: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,779: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,779: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,779: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,780: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,780: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,780: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,781: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,781: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,781: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,781: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,781: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,782: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,782: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,782: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,782: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,782: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,783: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,783: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,783: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,784: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,784: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,784: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,784: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,784: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,785: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,785: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,785: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,786: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,786: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,786: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,787: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,787: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,788: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,788: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,788: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,788: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,788: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,789: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,789: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,789: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,789: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,790: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,790: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,790: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,790: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,791: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,791: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,791: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,791: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,792: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,792: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,792: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,792: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,792: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,793: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,793: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,793: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,794: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,794: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,794: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,794: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,795: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,795: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,795: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,795: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,796: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,796: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,796: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,796: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,796: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,797: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,797: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,797: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,797: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,798: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,798: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,798: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,798: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,798: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,799: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,799: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,799: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,799: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,800: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,800: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,800: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,800: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,801: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,801: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,801: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,802: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,802: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,802: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,802: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,803: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,803: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,804: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,804: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,804: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,804: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,805: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,805: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,805: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,806: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,806: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,806: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,807: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,807: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,807: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,807: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,808: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,808: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,808: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,808: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,809: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,809: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,809: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,809: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,810: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,810: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,810: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,810: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,810: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,811: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,811: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,811: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,811: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,812: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,812: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,812: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,812: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,813: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,813: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,813: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,813: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,813: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,814: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,814: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,814: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,814: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,815: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,815: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,815: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,815: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,816: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,816: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,816: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,816: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,817: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,817: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,817: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,818: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,818: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,818: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,818: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,819: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,819: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,819: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,819: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,820: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,820: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,821: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,821: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,821: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,822: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,822: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,829: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,830: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,830: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,830: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,831: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,831: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,831: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,832: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,832: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,832: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,833: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,838: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,839: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,839: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,840: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,840: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,841: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,841: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,841: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,841: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,842: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,842: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,844: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,844: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,845: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,847: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,848: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,849: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,849: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,849: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,849: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,850: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,850: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,851: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,853: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,853: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,854: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,854: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,854: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,854: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,855: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,855: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,856: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,856: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,857: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,858: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,858: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,859: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,859: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,859: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,859: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,860: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,860: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,861: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,861: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,863: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,863: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,863: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,864: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,864: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,865: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,865: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,865: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,865: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,866: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,866: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,868: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,869: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,869: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,870: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,870: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,870: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,870: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,871: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,871: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,871: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,872: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,872: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,873: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,873: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,873: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,873: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,874: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,874: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,874: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,874: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,875: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,875: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,875: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,876: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,876: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,876: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,877: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,877: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,877: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,880: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,881: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,882: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,882: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,883: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,885: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,885: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,889: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,889: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,890: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,890: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,890: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,890: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,891: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,892: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,892: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,893: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,893: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,893: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,893: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,894: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,894: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,894: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,894: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,895: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,895: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,895: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,896: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,896: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,896: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,897: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,897: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,897: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,897: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,898: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,898: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,898: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,898: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,899: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,899: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,899: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,900: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,900: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,900: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,901: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,901: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,901: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,902: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,902: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,902: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,902: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,903: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,903: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,903: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,904: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,904: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,904: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,905: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,905: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,905: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,905: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,905: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,906: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,906: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,907: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,907: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,907: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,907: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,908: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,908: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,908: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,908: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,908: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,909: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,909: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,910: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,910: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,910: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,910: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,911: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,911: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,911: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,911: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,911: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,912: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,912: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,912: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,912: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,912: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,913: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,913: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,913: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,913: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,914: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,914: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,914: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,914: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,915: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,915: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,915: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,915: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,916: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,916: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,916: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,917: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,917: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,917: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,917: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,918: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,918: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,918: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,918: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,919: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,919: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,919: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,920: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,920: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,920: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,921: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,921: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,921: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,921: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,922: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,922: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,922: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,922: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,923: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,923: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,923: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,923: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,924: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,924: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,924: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,924: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,925: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,925: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,925: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,925: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,925: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,926: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,926: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,926: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,926: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,927: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,927: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,927: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,927: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,928: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,928: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,928: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,928: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,929: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,929: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,929: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,930: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,930: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,930: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,930: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,930: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,931: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,931: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,931: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,931: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,932: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,932: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,932: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,932: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,933: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,933: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,933: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,933: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,934: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,934: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,934: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,935: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,935: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,935: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,935: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,936: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,936: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,936: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,937: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,937: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,937: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,937: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,938: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,938: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,938: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,938: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,939: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,939: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,939: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,939: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,939: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,940: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,940: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,941: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,941: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,941: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,941: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,941: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,942: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,942: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,942: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,942: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,943: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,943: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,943: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,943: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,944: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,944: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,944: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,944: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,944: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,945: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,945: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,945: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,945: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,946: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,946: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,946: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,946: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,947: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,947: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,947: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,947: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,947: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,948: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,948: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,948: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,948: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,949: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,949: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,949: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,950: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,950: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,951: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,951: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,951: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,951: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,952: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,952: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,952: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,952: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,953: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,953: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,953: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,954: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,954: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,954: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,955: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,955: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,955: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,955: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,956: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,956: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,956: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,956: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,957: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,957: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,957: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,957: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,958: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,958: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,958: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,958: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,959: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,959: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,959: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,959: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,959: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,960: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,960: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,960: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,960: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,961: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,961: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,961: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,961: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,962: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,962: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,962: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,962: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,963: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,963: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,963: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,963: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,963: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,964: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,964: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,964: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,964: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,965: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,965: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,965: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,966: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,966: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,966: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,966: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,967: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,967: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,967: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,968: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,968: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,968: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,969: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,969: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,969: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,970: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,970: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,970: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,970: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,970: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,971: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,971: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,971: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,972: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,972: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,972: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,972: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,973: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,973: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,973: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,973: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,974: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,974: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,974: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,974: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,975: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,975: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,975: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,975: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,976: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,976: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,976: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,976: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,976: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,977: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,977: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,977: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,977: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,978: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,978: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,978: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,978: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,979: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,979: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,979: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,979: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,980: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,980: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,980: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,980: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,981: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,981: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,981: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,981: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,982: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,982: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,982: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,982: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,983: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,983: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,983: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,983: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,984: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,984: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,984: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,985: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,985: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,985: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,986: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,986: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,986: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,986: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,987: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,987: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,987: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,987: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,988: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,988: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,988: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,989: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,989: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,989: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,989: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,989: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,990: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,990: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,990: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,991: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,991: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,991: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,991: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,992: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,992: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,992: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,992: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,993: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,993: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,993: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,993: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,993: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,994: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,994: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,994: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,994: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,995: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,995: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,995: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,995: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,995: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,996: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,996: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,996: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,997: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:58,997: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:58,997: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:58,997: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:58,997: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:58,998: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:58,998: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:58,998: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:58,999: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:58,999: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:58,999: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:58,999: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,000: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,000: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,000: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,000: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,001: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,001: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,001: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,002: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,002: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,002: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,002: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,003: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,003: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,003: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,003: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,004: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,004: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,004: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,005: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,005: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,005: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,005: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,006: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,006: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,006: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,006: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,007: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,007: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,007: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,007: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,008: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,008: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,008: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,009: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,009: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,009: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,009: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,010: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,010: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,010: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,010: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,010: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,011: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,011: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,011: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,011: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,011: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,012: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,012: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,012: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,012: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,013: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,013: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,013: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,013: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,014: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,014: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,014: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,014: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,015: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,015: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,015: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,015: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,015: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,016: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,016: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,016: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,016: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,017: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,017: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,018: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,018: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,018: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,018: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,019: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,019: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,019: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,020: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,020: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,020: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,020: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,021: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,021: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,021: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,021: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,021: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,022: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,022: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,022: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,022: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,023: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,023: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,023: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,023: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,024: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,024: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,024: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,024: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,025: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,025: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,025: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,025: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,025: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,026: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,026: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,026: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,027: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,027: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,027: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,027: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,028: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,028: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,028: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,028: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,028: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,029: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,029: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,029: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,029: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,029: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,030: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,030: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,030: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,030: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,031: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,031: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,031: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,031: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,032: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,032: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,032: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,032: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,033: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,033: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,033: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,033: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,034: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,034: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,034: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,035: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,035: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,035: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,035: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,036: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,036: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,036: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,036: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,037: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,037: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,037: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,038: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,038: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,038: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,038: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,039: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,039: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,039: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,039: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,040: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,040: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,040: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,040: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,040: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,041: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,041: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,041: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,041: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,042: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,042: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,042: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,042: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,042: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,043: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,043: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,043: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,043: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,044: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,044: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,044: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,044: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,045: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,045: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,045: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,045: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,045: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,046: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,046: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,046: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,046: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,047: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,047: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,047: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,047: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,047: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,048: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,048: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,048: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,049: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,049: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,049: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,049: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,049: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,050: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,050: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,050: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,051: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,051: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,052: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,052: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,052: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,052: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,053: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,053: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,053: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,054: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,054: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,054: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,054: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,055: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,055: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,055: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,055: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,056: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,056: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,056: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,056: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,056: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,057: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,057: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,057: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,057: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,058: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,058: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,058: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,058: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,059: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,059: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,059: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,059: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,059: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,060: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,060: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,060: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,060: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,061: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,061: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,061: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,062: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,062: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,062: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,062: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,062: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,063: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,063: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,063: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,063: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,064: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,064: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,064: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,064: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,065: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,065: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,065: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,065: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,066: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,066: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,066: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,066: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,067: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,067: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,067: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,068: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,068: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,068: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,069: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,069: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,069: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,069: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,070: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,070: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,070: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,070: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,071: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,071: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,071: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,071: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,072: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,072: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,072: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,072: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,073: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,073: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,073: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,073: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,073: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,074: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,074: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,074: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,074: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,075: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,075: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,075: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,075: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,076: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,076: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,076: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,076: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,077: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,077: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,077: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,077: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,077: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,078: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,078: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,078: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,079: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,079: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,079: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,079: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,080: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,080: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,080: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,080: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,081: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,081: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,081: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,081: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,081: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,081: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,082: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,082: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,082: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,082: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,083: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,083: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,083: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,083: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,084: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,084: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,085: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,085: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,085: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,085: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,086: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,086: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,086: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,087: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,087: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,087: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,087: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,088: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,088: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,088: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,088: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,089: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,089: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,089: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,089: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,089: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,090: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,090: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,090: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,091: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,091: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,091: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,091: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,091: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,092: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,092: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,092: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,092: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,092: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,093: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,093: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,093: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,093: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,094: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,094: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,094: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,095: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,095: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,095: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,095: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,096: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,096: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,096: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,096: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,097: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,097: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,097: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,097: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,097: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,098: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,098: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,098: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,098: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,099: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,099: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,099: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,099: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,100: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,100: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,100: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,101: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,101: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,101: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,102: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,102: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,102: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,103: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,103: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,103: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,103: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,103: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,104: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,104: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,104: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,105: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,105: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,105: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,105: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,106: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,106: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,106: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,106: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,107: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,107: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,107: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,107: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,108: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,108: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,108: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,108: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,109: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,109: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,109: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,109: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,109: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,110: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,110: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,111: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,111: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,111: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,111: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,112: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,112: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,112: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,112: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,112: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,113: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,113: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,113: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,113: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,114: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,114: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,114: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,114: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,114: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,115: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,115: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,115: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,115: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,116: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,116: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,116: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,116: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,117: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,117: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,117: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,118: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,118: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,118: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,119: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,119: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,119: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,120: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,120: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,120: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,120: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,120: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,121: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,121: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,121: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,121: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,122: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,122: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,122: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,122: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,123: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,123: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,123: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,124: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,124: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,124: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,124: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,125: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,125: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,125: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,125: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,126: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,126: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,126: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,126: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,126: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,127: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,127: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,127: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,127: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,128: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,128: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,128: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,128: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,128: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,129: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,129: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,129: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,129: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,130: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,130: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,130: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,130: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,131: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,131: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,131: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,131: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,131: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,132: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,132: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,132: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,132: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,133: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,133: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,133: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,134: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,134: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,134: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,134: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,135: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,135: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,136: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,136: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,136: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,136: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,137: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,137: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,137: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,137: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,137: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,138: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,138: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,138: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,138: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,139: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,139: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,139: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,139: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,139: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,140: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,140: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,140: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,140: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,141: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,141: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,141: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,141: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,142: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,142: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,142: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,142: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,142: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,143: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,143: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,143: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,143: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,144: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,144: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,144: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,145: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,145: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,145: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,145: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,145: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,146: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,146: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,146: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,146: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,146: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,147: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,147: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,147: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,148: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,148: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,148: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,148: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,149: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,149: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,149: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,149: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,150: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,150: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,150: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,150: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,150: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,151: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,151: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,152: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,152: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,152: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,152: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,153: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,153: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,153: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,153: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,153: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,154: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,154: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,154: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,154: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,155: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,155: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,155: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,156: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,156: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,156: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,156: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,156: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,157: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,157: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,157: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,157: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,157: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,158: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,158: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,158: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,158: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,158: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,159: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,159: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,159: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,159: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,160: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,160: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,160: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,160: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,161: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,161: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,161: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,161: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,162: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,162: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,162: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,162: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,162: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,163: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,163: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,163: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,164: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,164: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,164: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,164: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,165: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,165: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,165: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,165: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,166: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,166: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,166: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,166: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,166: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,167: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,167: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,168: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,168: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,168: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,168: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,169: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,169: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,169: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,169: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,169: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,170: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,170: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,171: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,171: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,171: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,171: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,172: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,172: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,172: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,173: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,173: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,174: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,174: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,174: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,174: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,175: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,175: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,176: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,176: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,176: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,177: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,177: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,178: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,178: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,178: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,178: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,179: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,179: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,179: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,180: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,180: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,181: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,181: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,181: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,181: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,182: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,182: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,182: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,182: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,183: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,183: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,185: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,187: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,187: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,188: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,188: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,188: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,188: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,189: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,189: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,189: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,190: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,191: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,192: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,192: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,192: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,193: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,193: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,193: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,193: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,194: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,194: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,194: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,195: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,196: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,196: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,196: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,197: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,197: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,197: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,198: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,198: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,198: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,198: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,207: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,208: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,208: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,209: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,209: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,210: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,210: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,210: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,210: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,211: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,211: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,212: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,212: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,212: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,213: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,213: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,214: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,214: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,214: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,214: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,215: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,215: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,215: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,215: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,215: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,216: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,216: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,217: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,217: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,218: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,218: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,218: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,219: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,219: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,223: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,223: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,223: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,224: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,225: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,225: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,225: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,225: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,227: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,227: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,231: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,232: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,232: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,232: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,233: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,233: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,233: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,233: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,234: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,234: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,234: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,236: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,238: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,238: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,239: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,239: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,240: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,240: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,240: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,241: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,242: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,242: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,243: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,244: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,244: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,244: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,245: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,245: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,245: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,245: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,246: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,246: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,246: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,247: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,247: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,247: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,248: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,248: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,249: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,249: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,249: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,249: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,250: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,250: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,250: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,251: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,251: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,252: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,252: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,253: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,253: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,253: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,254: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,254: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,255: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,255: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,256: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,256: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,256: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,257: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,257: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,257: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,258: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,258: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,259: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,259: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,259: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,260: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,260: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,260: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,260: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,261: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,261: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,262: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,262: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,262: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,263: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,263: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,263: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,263: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,264: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,264: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,264: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,265: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,265: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,265: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,266: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,266: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,266: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,266: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,266: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,267: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,268: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,269: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,269: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,269: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,269: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,270: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,271: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,273: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,274: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,274: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,275: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,275: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,276: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,276: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,276: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,276: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,277: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,277: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,277: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,278: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,278: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,279: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,279: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,279: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,280: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,280: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,280: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,281: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,281: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,281: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,281: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,281: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,282: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,282: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,282: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,282: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,283: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,283: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,283: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,284: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,284: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,285: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,285: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,285: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,286: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,286: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,286: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,287: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,287: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,290: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,290: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,290: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,291: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,291: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,292: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,292: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,292: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,292: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,293: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,293: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,294: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,294: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,294: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,295: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,295: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,295: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,296: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,296: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,296: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,297: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,297: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,297: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,297: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,297: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,298: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,298: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,298: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,299: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,299: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,299: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,299: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,300: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,300: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,300: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,301: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,302: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,302: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,303: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,303: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,304: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,304: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,304: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,304: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,305: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,305: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,306: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,307: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,307: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,308: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,308: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,309: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,309: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,309: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,309: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,310: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,310: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,310: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,311: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,311: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,312: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,312: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,313: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,313: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,313: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,313: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,314: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,314: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,314: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,314: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,314: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,315: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,315: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,315: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,315: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,316: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,316: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,316: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,317: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,318: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,319: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,319: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,320: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,320: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,321: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,321: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,322: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,322: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,323: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,323: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,323: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,324: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,324: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,325: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,325: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,325: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,325: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,326: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,326: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,327: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,327: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,327: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,327: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,328: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,328: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,328: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,329: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,329: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,329: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,329: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,330: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,330: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,330: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,330: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,330: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,331: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,331: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,331: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,332: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,332: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,332: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,332: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,333: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,333: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,333: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,333: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,334: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,334: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,335: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,335: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,335: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,335: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,336: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,336: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,336: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,338: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,339: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,339: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,340: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,340: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,340: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,341: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,341: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,342: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,342: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,342: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,342: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,343: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,343: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,343: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,344: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,344: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,344: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,344: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,345: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,345: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,345: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,346: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,346: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,346: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,347: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,347: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,347: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,347: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,348: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,348: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,348: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,348: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,349: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,349: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,349: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,349: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,350: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,350: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,350: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,350: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,351: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,351: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,351: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,352: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,352: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,353: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,353: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,354: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,354: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,355: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,355: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,356: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,356: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,357: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,358: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,358: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,359: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,359: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,360: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,360: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,360: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,360: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,361: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,361: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,361: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,362: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,362: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,362: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,363: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,363: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,363: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,363: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,364: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,364: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,364: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,364: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,365: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,365: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,365: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,365: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,366: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,366: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,366: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,366: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,367: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,367: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,368: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,369: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,369: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,369: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,370: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,371: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,371: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,371: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,371: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,372: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,372: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,373: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,374: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,374: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,375: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,375: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,376: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,376: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,376: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,376: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,377: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,377: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,377: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,378: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,378: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,379: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,379: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,379: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,379: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,380: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,380: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,380: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,380: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,381: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,381: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,381: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,381: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,382: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,382: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,382: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,382: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,382: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,383: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,383: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,383: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,384: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,384: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,385: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,385: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,386: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,386: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,387: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,387: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,388: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,388: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,388: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,389: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,389: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,389: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,390: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,390: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,390: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,391: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,391: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,391: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,392: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,392: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,392: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,393: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,393: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,393: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,394: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,394: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,394: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,394: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,395: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,395: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,395: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,396: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,396: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,396: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,397: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,397: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,397: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,397: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,397: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,398: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,398: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,398: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,399: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,399: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,399: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,399: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,400: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,400: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,400: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,400: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,401: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,401: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,402: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,403: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,403: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,403: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,404: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,405: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,405: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,405: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,405: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,406: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,406: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,406: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,407: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,407: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,408: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,408: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,408: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,408: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,409: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,409: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,410: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,410: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,410: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,411: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,411: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,411: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,412: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,412: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,412: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,413: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,413: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,413: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,413: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,413: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,414: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,414: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,414: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,415: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,415: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,415: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,415: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,415: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,416: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,416: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,417: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,417: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,417: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,418: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,418: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,419: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,419: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,420: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,420: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,421: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,421: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,421: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,422: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,422: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,422: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,423: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,423: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,423: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,424: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,424: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,425: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,425: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,425: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,426: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,426: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,426: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,427: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,427: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,427: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,428: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,428: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,428: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,429: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,429: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,429: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,429: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,430: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,430: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,430: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,430: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,431: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,431: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,431: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,431: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,431: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,432: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,432: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,432: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,433: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,433: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,433: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,434: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,434: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,434: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,435: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,435: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,436: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,436: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,436: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,437: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,438: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,438: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,438: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,438: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,439: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,439: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,440: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,443: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,443: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,443: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,444: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,445: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,445: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,445: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,445: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,446: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,446: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,446: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,447: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,447: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,447: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,447: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,448: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,448: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,448: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,448: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,449: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,449: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,449: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,450: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,450: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,450: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,450: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,451: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,451: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,451: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,452: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,452: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,453: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,453: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,454: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,454: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,454: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,455: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,455: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,455: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,456: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,456: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,457: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,457: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,457: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,457: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,458: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,458: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,458: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,459: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,459: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,459: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,459: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,460: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,460: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,460: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,461: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,461: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,461: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,462: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,462: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,462: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,462: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,462: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,463: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,463: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,463: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,464: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,464: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,464: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,464: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,465: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,465: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,465: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,465: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,466: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,466: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,466: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,466: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,466: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,467: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,467: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,468: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,468: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,468: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,468: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,469: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,469: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,469: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,470: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,470: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,470: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,470: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,471: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,471: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,471: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,471: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,472: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,472: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,472: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,473: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,473: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,473: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,473: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,474: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,474: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,474: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,474: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,475: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,475: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,475: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,475: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,475: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,476: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,476: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,476: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,477: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,477: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,477: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,477: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,477: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,478: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,478: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,478: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,478: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,479: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,479: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,479: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,479: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,480: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,480: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,480: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,480: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,480: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,481: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,481: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,481: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,481: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,482: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,482: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,482: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,482: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,483: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,483: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,483: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,483: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,484: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,484: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,484: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,485: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,485: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,486: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,486: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,486: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,486: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,486: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,487: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,487: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,487: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,487: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,488: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,488: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,488: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,488: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,489: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,489: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,489: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,489: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,490: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,490: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,490: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,490: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,491: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,491: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,491: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,491: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,492: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,492: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,492: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,492: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,493: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,493: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,493: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,493: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,494: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,494: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,494: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,494: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,494: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,495: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,495: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,495: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,495: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,496: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,496: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,496: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,497: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,497: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,497: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,497: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,497: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,498: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,498: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,498: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,498: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,499: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,499: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,499: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,499: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,500: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,500: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,500: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,500: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,501: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,501: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,501: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,502: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,502: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,502: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,502: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,503: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,503: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,503: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,504: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,504: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,504: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,504: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,505: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,505: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,505: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,506: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,506: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,506: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,506: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,507: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,507: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,507: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,507: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,508: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,508: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,508: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,508: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,509: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,509: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,509: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,509: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,510: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,510: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,510: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,510: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,511: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,511: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,511: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,511: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,511: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,512: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,512: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,512: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,512: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,512: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,513: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,513: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,513: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,513: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,514: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,514: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,514: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,515: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,515: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,515: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,515: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,516: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,516: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,516: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,517: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,517: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,517: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,518: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,518: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,519: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,519: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,519: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,519: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,520: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,520: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,520: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,521: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,521: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,521: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,521: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,522: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,522: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,522: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,522: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,523: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,523: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,523: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,524: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,524: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,524: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,524: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,525: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,525: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,525: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,525: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,526: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,526: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,526: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,526: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,527: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,527: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,527: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,528: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,528: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,528: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,528: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,529: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,529: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,529: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,529: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,529: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,530: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,530: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,530: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,530: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,531: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,531: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,531: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,531: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,531: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,532: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,532: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,532: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,533: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,533: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,533: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,534: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,534: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,534: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,534: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,535: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,535: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,535: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,536: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,536: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,536: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,536: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,537: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,537: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,537: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,537: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,537: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,538: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,538: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,538: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,538: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,539: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,539: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,539: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,539: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,540: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,540: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,540: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,540: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,540: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,541: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,541: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,541: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,541: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,542: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,542: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,542: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,542: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,543: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,543: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,543: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,543: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,544: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,544: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,544: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,544: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,545: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,545: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,545: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,545: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,546: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,546: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,546: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,546: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,547: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,547: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,547: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,547: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,548: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,548: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,548: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,548: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,548: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,549: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,549: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,549: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,549: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,550: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,550: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,550: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,551: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,551: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,551: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,552: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,552: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,552: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,553: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,553: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,553: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,553: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,554: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,554: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,554: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,555: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,555: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,555: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,555: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,556: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,556: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,556: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,556: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,557: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,557: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,557: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,557: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,557: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,558: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,558: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,558: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,558: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,559: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,559: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,559: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,560: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,560: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,560: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,560: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,560: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,561: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,561: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,561: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,561: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,561: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,562: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,562: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,562: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,563: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,563: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,563: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,563: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,564: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,564: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,564: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,564: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,565: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,565: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,565: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,565: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,565: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,566: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,566: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,566: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,566: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,567: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,567: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,567: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,568: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,568: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,568: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,568: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,569: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,569: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,570: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,570: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,570: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,570: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,571: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,571: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,571: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,571: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,571: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,572: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,572: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,572: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,572: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,573: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,573: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,573: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,573: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,573: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,574: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,574: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,574: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,574: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,575: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,575: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,575: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,575: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,576: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,576: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,576: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,576: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,576: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,577: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,577: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,577: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,577: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,578: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,578: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,578: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,578: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,579: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,579: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,579: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,580: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,580: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,580: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,581: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,581: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,581: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,582: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,582: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,583: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,583: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,583: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,584: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,584: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,584: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,585: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,585: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,585: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,585: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,586: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,587: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,587: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,587: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,588: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,588: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,588: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,589: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,589: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,589: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,589: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,590: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,592: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,592: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,593: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,594: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,596: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,596: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,598: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,598: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,601: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,602: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,603: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,605: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,605: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,607: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,608: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,611: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,611: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,611: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,612: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,612: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,612: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,613: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,614: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,614: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,614: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,615: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,615: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,615: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,615: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,616: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,616: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,616: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,617: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,620: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,620: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,621: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,621: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,622: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,622: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,622: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,622: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,623: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,623: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,623: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,624: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,624: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,624: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,624: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,625: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,625: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,625: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,625: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,626: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,626: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,626: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,628: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,629: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,630: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,631: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,631: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,631: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,632: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,632: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,633: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,633: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,633: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,634: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,634: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,634: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,635: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,635: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,635: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,635: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,636: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,636: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,636: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,636: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,637: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,637: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,638: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,638: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,638: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,638: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,639: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,639: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,639: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,639: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,640: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,640: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,640: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,641: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,641: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,641: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,641: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,642: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,642: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,642: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,642: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,642: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,643: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,643: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,643: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,644: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,644: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,644: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,644: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,644: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,645: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,645: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,645: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,646: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,646: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,646: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,646: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,647: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,647: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,647: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,647: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,648: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,648: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,648: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,648: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,648: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,649: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,649: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,650: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,650: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,650: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,650: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,651: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,651: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,651: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,652: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,652: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,652: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,652: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,653: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,653: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,653: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,653: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,654: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,654: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,654: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,655: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,655: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,655: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,655: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,656: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,656: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,656: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,656: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,657: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,657: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,657: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,657: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,657: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,658: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,658: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,658: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,658: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,659: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,659: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,659: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,659: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,660: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,660: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,660: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,660: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,661: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,661: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,661: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,661: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,661: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,662: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,662: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,662: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,663: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,663: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,663: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,663: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,664: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,664: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,664: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,664: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,664: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,665: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,665: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,665: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,665: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,666: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,666: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,666: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,666: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,667: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,667: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,668: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,668: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,668: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,668: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,669: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,669: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,669: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,670: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,670: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,670: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,670: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,671: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,671: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,671: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,671: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,671: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,672: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,672: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,672: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,672: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,673: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,673: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,673: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,673: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,673: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,674: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,674: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,674: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,674: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,675: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,675: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,675: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,675: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,676: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,676: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,676: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,676: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,676: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,677: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,677: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,677: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,677: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,678: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,678: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,678: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,679: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,679: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,679: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,679: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,679: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,680: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,680: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,680: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,680: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,680: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,681: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,681: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,681: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,682: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,682: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,682: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,682: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,683: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,683: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,683: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,683: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,684: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,684: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,684: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,685: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,685: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,685: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,685: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,686: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,686: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,686: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,686: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,687: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,687: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,687: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,688: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,688: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,688: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,688: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,689: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,689: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,689: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,689: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,690: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,690: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,690: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,690: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,690: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,691: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,691: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,691: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,691: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,692: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,692: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,692: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,692: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,692: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,693: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,693: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,693: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,694: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,694: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,694: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,694: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,694: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,695: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,695: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,695: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,695: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,696: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,696: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,696: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,696: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,696: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,697: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,697: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,697: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,697: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,698: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,698: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,698: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,699: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,699: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,699: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,699: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,700: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,700: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,701: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,701: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,701: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,701: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,701: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,702: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,702: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,703: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,703: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,703: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,703: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,704: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,704: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,704: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,704: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,705: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,705: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,705: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,706: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,706: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,706: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,706: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,707: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,707: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,707: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,707: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,707: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,708: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,708: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,708: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,708: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,709: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,709: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,709: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,709: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,709: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,710: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,710: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,710: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,710: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,711: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,711: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,711: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,711: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,712: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,712: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,712: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,712: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,712: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,713: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,713: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,713: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,713: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,714: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,714: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,714: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,714: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,714: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,715: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,715: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,715: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,715: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,716: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,716: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,716: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,717: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,717: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,717: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,717: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,718: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,718: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,718: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,719: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,719: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,719: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,719: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,720: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,720: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,720: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,720: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,721: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,721: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,721: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,721: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,722: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,722: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,722: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,722: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,723: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,723: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,723: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,723: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,723: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,724: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,724: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,724: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,724: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,725: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,725: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,725: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,725: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,726: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,726: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,726: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,726: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,727: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,727: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,727: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,727: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,727: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,728: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,728: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,728: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,728: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,728: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,729: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,729: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,729: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,729: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,730: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,730: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,730: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,731: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,731: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,731: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,731: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,732: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,732: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,732: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,732: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,733: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,733: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,733: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,733: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,733: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,734: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,734: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,735: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,735: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,735: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,735: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,736: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,736: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,736: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,737: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,737: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,737: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,737: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,737: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,738: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,738: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,738: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,738: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,739: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,739: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,739: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,739: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,740: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,740: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,740: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,740: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,741: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,741: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,741: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,741: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,742: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,742: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,742: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,742: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,742: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,743: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,743: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,743: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,743: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,744: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,744: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,744: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,744: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,744: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,745: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,745: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,745: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,746: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,746: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,746: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,746: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,746: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,747: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,747: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,747: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,747: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,748: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,748: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,748: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,749: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,749: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,749: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,749: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,749: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,750: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,750: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,750: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,750: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,751: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,751: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,751: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,751: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,752: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,752: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,752: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,753: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,753: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,753: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,753: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,754: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,754: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,755: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,755: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,755: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,755: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,756: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,756: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,756: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,756: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,757: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,757: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,757: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,757: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,758: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,758: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,758: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,758: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,759: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,759: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,759: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,759: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,759: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,760: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,760: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,760: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,760: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,761: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,761: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,761: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,761: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,762: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,762: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,762: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,762: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,763: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,763: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,763: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,763: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,764: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,764: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,764: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,764: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,764: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,765: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,765: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,765: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,765: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,766: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,766: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,766: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,766: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,766: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,767: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,767: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,768: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,768: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,768: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,768: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,769: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,769: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,769: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,770: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,770: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,771: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,771: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,771: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,771: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,772: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,772: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,772: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,772: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,773: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,773: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,773: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,773: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,773: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,774: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,774: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,775: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,775: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,775: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,775: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,776: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,776: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,776: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,776: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,776: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,777: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,777: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,777: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,777: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,778: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,778: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,778: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,778: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,778: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,779: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,779: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,779: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,779: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,780: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,780: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,780: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,780: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,781: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,781: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,781: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,781: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,781: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,782: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,782: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,782: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,782: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,783: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,783: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,783: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,784: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,784: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,784: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,784: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,785: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,785: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,786: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,786: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,786: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,786: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,787: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,787: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,787: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,787: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,787: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,788: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,788: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,788: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,788: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,789: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,789: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,789: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,789: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,790: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,790: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,790: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,790: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,791: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,791: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,791: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,791: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,791: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,792: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,792: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,792: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,793: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,793: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,793: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,793: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,794: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,794: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,794: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,794: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,795: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,795: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,795: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,795: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,795: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,796: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,796: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,796: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,796: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,797: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,797: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,797: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,797: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,797: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,798: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,798: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,798: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,798: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,799: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,799: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,799: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,799: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,800: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,800: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,800: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,801: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,801: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,801: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,801: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,802: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,802: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,802: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,802: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,803: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,803: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,803: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,804: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,804: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,804: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,804: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,805: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,805: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,805: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,805: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,806: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,806: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,806: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,806: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,806: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,807: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,807: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,807: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,807: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,808: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,808: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,808: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,808: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,808: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,809: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,809: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,809: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,809: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,810: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,810: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,810: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,810: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,811: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,811: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,811: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,811: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,811: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,812: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,812: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,812: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,812: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,813: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,813: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,813: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,813: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,813: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,814: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,814: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,814: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,814: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,815: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,815: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,815: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,815: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,816: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,816: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,816: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,817: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,817: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,817: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,817: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,818: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,818: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,818: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,818: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,819: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,819: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,819: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,820: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,820: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,820: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,821: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,821: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,821: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,822: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,822: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,822: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,822: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,822: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,823: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,823: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,823: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,824: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,824: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,824: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,824: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,825: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,825: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,825: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,826: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,827: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,827: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,827: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,827: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,828: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,828: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,829: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,829: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,829: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,830: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,830: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,830: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,831: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,831: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,831: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,832: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,832: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,832: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,832: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,833: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,833: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,833: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,834: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,834: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,835: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,835: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,836: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,836: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,836: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,836: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,837: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,837: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,837: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,838: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,838: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,839: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,839: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,840: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,840: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,840: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,840: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,841: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,841: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,841: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,841: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,841: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,842: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,842: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,842: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,842: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,843: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,843: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,843: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,844: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,844: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,844: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,844: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,844: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,845: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,845: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,845: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,845: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,846: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,846: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,846: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,846: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,847: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,847: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,847: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,847: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,848: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,848: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,848: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,848: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,849: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,849: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,849: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,850: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,850: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,850: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,850: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,851: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,851: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,851: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,852: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,852: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,852: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,852: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,853: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,853: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,853: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,853: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,854: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,854: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,854: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,854: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,855: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,855: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,855: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,856: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,856: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,856: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,856: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,857: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,857: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,857: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,857: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,858: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,858: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,858: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,858: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,858: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,859: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,859: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,859: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,859: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,860: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,860: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,860: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,860: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,860: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,861: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,861: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,861: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,861: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,862: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,862: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,862: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,862: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,863: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,863: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,863: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,863: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,863: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,864: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,864: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,864: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,864: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,865: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,865: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,865: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,865: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,865: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,866: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,866: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,866: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,866: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,867: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,867: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,867: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,867: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,868: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,868: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,868: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,869: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,869: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,870: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,870: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,870: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,870: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,871: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,871: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,871: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,871: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,871: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,872: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,872: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,872: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,873: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,873: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,873: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,873: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,873: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,874: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,874: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,874: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,875: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,875: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,875: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,875: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,876: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,876: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,876: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,876: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,877: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,877: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,877: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,877: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,877: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,878: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,878: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,878: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,878: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,879: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,879: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,879: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,879: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,879: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,880: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,880: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,880: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,880: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,881: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,881: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,881: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,881: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,882: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,882: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,882: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,882: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,882: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,883: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,883: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,884: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,884: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,884: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,884: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,885: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,885: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,885: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,886: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,886: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,886: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,886: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,887: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,887: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,887: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,887: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,888: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,888: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,888: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,888: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,889: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,889: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,889: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,889: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,889: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,890: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,890: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,890: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,890: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,891: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,891: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,891: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,891: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,892: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,892: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,892: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,892: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,892: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,893: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,893: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,893: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,893: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,893: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,894: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,894: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,894: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,894: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,895: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,895: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,895: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,895: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,896: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,896: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,896: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,896: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,897: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,897: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,897: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,897: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,897: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,898: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,898: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,898: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,898: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,899: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,899: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,899: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,900: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,900: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,900: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,900: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,901: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,901: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,901: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,902: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,902: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,902: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,903: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,903: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,903: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,904: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,904: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,905: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,905: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,905: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,905: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,905: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,906: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,906: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,906: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,906: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,907: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,907: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,907: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,908: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,908: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,908: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,908: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,909: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,909: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,909: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,909: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,910: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,910: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,910: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,911: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,911: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,911: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,911: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,912: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,912: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,912: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,912: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,913: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,913: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,913: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,913: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,913: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,914: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,914: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,914: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,915: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,915: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,915: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,915: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,916: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,916: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,916: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,916: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,917: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,917: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,917: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,918: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,918: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,918: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,919: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,919: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,919: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,919: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,920: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,920: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,920: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,921: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,922: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,922: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,922: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,923: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,923: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,923: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,923: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,924: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,924: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,924: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,925: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,925: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,925: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,925: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,926: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,926: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,927: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,927: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,928: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,929: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,929: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,929: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,929: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,930: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,930: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,930: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,930: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,931: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,931: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,932: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,932: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,932: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,933: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,933: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,933: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,933: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,934: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,934: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,935: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,935: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,938: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,939: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,939: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,939: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,940: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,940: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,940: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,941: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,941: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,941: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,942: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,942: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,943: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,943: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,943: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,944: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,944: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,944: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,945: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,945: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,945: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,945: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,948: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,950: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,951: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,955: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,956: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,958: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,959: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,959: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,959: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,960: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,960: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,961: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,963: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,963: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,964: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,964: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,965: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,965: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,965: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,965: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,966: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,966: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,966: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,967: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,967: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,968: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,968: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,969: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,969: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,969: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,969: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,970: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,970: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,970: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,971: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,971: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,971: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,972: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,972: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,972: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,973: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,973: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,973: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,973: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,973: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,974: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,974: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,974: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,975: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,975: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,975: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,976: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,976: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,976: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,977: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,977: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,979: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,979: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,979: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,980: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,980: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,980: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,981: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,981: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,981: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,981: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,982: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,982: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,982: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,982: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,983: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,983: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,983: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,984: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,984: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,984: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,984: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,985: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,987: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,988: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,988: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,988: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,989: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,989: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,989: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,989: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,990: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,990: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,990: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,991: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,991: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,991: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,991: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,992: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,992: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,992: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,992: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,993: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,993: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,993: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,993: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,993: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,994: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,994: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,994: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,994: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,995: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,995: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,995: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,995: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,995: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,996: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,996: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,996: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,996: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:31:59,997: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:31:59,997: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:31:59,997: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:31:59,997: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:31:59,998: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:31:59,998: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:31:59,998: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:31:59,998: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:31:59,999: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:31:59,999: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:31:59,999: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,000: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,000: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,000: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,001: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,001: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,001: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,001: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,002: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,002: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,002: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,003: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,003: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,003: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,003: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,004: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,004: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,004: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,004: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,005: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,005: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,005: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,005: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,006: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,006: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,006: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,006: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,007: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,007: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,007: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,007: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,007: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,008: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,008: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,008: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,008: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,009: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,009: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,009: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,009: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,010: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,010: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,010: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,011: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,011: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,011: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,011: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,012: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,012: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,012: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,012: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,012: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,013: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,013: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,013: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,013: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,014: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,014: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,014: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,014: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,015: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,015: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,015: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,015: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,015: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,016: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,016: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,017: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,017: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,017: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,017: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,018: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,018: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,018: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,018: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,019: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,019: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,019: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,020: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,020: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,020: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,020: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,021: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,021: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,021: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,022: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,022: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,022: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,022: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,023: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,023: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,023: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,023: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,024: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,024: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,024: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,024: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,025: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,025: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,025: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,026: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,026: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,026: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,026: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,026: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,027: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,027: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,027: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,027: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,028: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,028: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,028: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,028: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,029: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,029: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,029: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,029: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,029: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,030: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,030: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,030: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,030: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,031: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,031: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,031: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,031: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,032: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,032: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,032: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,032: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,032: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,033: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,033: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,034: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,034: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,034: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,034: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,035: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,035: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,035: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,035: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,036: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,036: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,036: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,037: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,037: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,037: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,037: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,038: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,038: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,038: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,038: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,039: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,039: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,039: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,040: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,040: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,040: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,040: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,041: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,041: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,041: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,041: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,041: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,042: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,042: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,042: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,042: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,043: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,043: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,043: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,043: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,043: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,044: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,044: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,044: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,045: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,045: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,045: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,045: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,045: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,046: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,046: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,046: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,046: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,046: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,047: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,047: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,047: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,047: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,048: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,048: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,048: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,048: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,048: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,049: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,049: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,049: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,050: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,050: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,050: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,051: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,051: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,051: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,052: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,052: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,052: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,052: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,053: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,053: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,053: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,053: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,054: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,054: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,054: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,054: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,055: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,055: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,055: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,055: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,056: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,056: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,056: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,056: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,056: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,057: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,057: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,057: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,058: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,058: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,058: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,058: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,059: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,059: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,059: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,059: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,060: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,060: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,060: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,060: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,060: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,061: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,061: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,061: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,061: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,062: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,062: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,062: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,062: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,062: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,063: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,063: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,063: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,063: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,064: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,064: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,064: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,064: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,065: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,065: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,065: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,065: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,065: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,066: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,066: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,067: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,067: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,067: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,067: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,068: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,068: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,068: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,069: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,069: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,069: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,069: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,070: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,070: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,070: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,070: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,071: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,071: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,071: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,072: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,072: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,072: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,072: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,073: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,073: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,073: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,073: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,074: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,074: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,074: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,074: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,074: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,075: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,075: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,075: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,075: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,076: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,076: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,076: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,076: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,076: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,077: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,077: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,077: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,077: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,078: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,078: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,078: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,078: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,079: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,079: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,079: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,079: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,079: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,080: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,080: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,080: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,080: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,081: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,081: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,081: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,081: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,082: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,082: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,082: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,082: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,083: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,083: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,083: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,083: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,084: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,084: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,084: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,085: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,085: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,085: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,086: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,086: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,086: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,086: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,087: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,087: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,087: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,088: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,088: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,088: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,088: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,089: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,089: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,089: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,089: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,090: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,090: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,090: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,090: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,091: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,091: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,091: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,091: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,092: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,092: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,092: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,092: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,093: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,093: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,093: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,093: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,094: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,094: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,094: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,094: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,095: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,095: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,095: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,095: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,096: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,096: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,096: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,096: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,096: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,097: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,097: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,097: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,097: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,097: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,098: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,098: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,098: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,098: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,099: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,099: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,099: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,100: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,100: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,100: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,100: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,101: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,101: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,101: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,101: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,102: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,102: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,103: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,103: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,103: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,103: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,104: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,104: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,104: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,105: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,105: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,105: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,105: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,106: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,106: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,106: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,106: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,107: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,107: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,107: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,107: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,107: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,108: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,108: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,108: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,108: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,109: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,109: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,109: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,109: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,110: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,110: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,110: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,110: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,110: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,111: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,111: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,111: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,111: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,112: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,112: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,112: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,112: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,112: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,113: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,113: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,113: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,113: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,114: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,114: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,114: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,114: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,115: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,115: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,115: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,116: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,116: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,116: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,116: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,117: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,117: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,117: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,118: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,118: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,118: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,118: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,119: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,119: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,119: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,120: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,120: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,120: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,121: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,121: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,121: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,121: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,122: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,122: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,122: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,122: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,123: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,123: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,123: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,124: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,124: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,124: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,124: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,124: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,125: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,125: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,125: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,125: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,126: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,126: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,126: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,126: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,127: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,127: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,127: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,127: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,127: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,128: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,128: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,128: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,128: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,129: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,129: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,129: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,129: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,129: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,130: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,130: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,130: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,131: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,131: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,131: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,131: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,131: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,132: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,132: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,132: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,133: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,133: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,133: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,133: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,134: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,134: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,134: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,134: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,135: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,135: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,135: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,136: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,136: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,136: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,136: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,137: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,137: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,137: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,138: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,138: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,138: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,138: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,139: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,139: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,139: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,139: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,140: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,140: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,140: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,140: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,141: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,141: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,141: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,141: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,142: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,142: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,142: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,143: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,143: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,143: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,143: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,144: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,144: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,144: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,144: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,144: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,145: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,145: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,145: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,145: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,146: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,146: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,146: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,146: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,146: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,147: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,147: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,147: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,147: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,148: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,148: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,148: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,148: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,149: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,149: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,149: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,149: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,149: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,150: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,150: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,151: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,151: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,151: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,151: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,152: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,152: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,152: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,153: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,153: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,153: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,153: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,154: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,154: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,154: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,154: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,155: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,155: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,155: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,155: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,155: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,156: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,156: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,156: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,156: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,157: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,157: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,157: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,157: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,157: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,158: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,158: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,158: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,158: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,159: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,159: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,159: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,159: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,160: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,160: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,160: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,160: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,160: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,161: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,161: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,161: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,161: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,162: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,162: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,162: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,162: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,162: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,163: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,163: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,163: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,163: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,164: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,164: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,164: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,164: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,165: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,165: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,165: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,165: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,165: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,166: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,166: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,167: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,167: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,167: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,167: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,168: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,168: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,168: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,169: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,169: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,169: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,169: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,170: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,170: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,170: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,170: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,171: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,171: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,171: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,171: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,171: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,172: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,172: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,172: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,172: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,173: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,173: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,173: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,173: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,173: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,174: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,174: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,174: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,174: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,175: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,175: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,175: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,175: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,176: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,176: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,176: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,176: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,176: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,177: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,177: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,177: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,177: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,178: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,178: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,178: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,178: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,179: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,179: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,179: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,179: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,180: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,180: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,180: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,180: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,180: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,181: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,181: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,181: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,181: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,182: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,182: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,182: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,183: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,183: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,183: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,183: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,184: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,184: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,184: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,185: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,185: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,185: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,185: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,186: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,186: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,186: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,186: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,187: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,187: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,187: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,188: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,188: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,188: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,188: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,189: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,189: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,189: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,189: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,190: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,190: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,190: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,190: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,190: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,191: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,191: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,191: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,191: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,192: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,192: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,192: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,193: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,193: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,193: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,193: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,194: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,194: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,194: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,194: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,195: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,195: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,195: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,195: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,195: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,196: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,196: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,196: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,196: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,197: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,197: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,197: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,197: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,198: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,198: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,198: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,198: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,198: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,199: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,199: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,199: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,200: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,200: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,200: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,201: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,201: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,201: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,202: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,202: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,202: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,202: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,203: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,203: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,203: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,203: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,204: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,204: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,204: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,204: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,204: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,205: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,205: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,205: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,205: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,206: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,206: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,206: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,207: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,207: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,207: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,207: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,207: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,208: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,208: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,208: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,208: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,209: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,209: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,209: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,209: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,210: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,210: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,210: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,210: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,211: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,211: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,211: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,211: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,212: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,212: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,212: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,212: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,212: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,212: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,213: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,213: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,213: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,213: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,214: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,214: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,214: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,214: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,215: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,215: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,215: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,215: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,216: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,216: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,216: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,216: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,217: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,217: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,217: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,218: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,218: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,218: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,219: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,219: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,219: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,219: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,220: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,220: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,220: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,220: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,221: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,221: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,221: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,222: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,222: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,222: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,222: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,222: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,223: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,223: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,223: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,223: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,224: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,224: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,224: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,225: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,225: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,225: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,225: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,226: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,226: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,226: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,226: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,226: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,227: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,227: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,227: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,227: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,228: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,228: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,228: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,228: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,229: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,229: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,229: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,229: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,230: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,230: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,230: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,230: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,230: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,231: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,231: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,231: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,231: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,231: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,232: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,232: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,233: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,233: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,233: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,233: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,234: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,234: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,234: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,235: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,235: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,235: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,235: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,236: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,236: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,236: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,236: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,237: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,237: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,237: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,237: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,237: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,238: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,238: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,239: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,239: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,239: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,239: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,240: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,240: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,240: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,240: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,240: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,240: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,241: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,241: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,241: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,241: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,242: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,242: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,242: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,242: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,243: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,243: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,243: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,243: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,244: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,244: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,244: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,244: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,245: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,245: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,245: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,245: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,245: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,246: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,246: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,246: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,246: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,247: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,247: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,247: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,247: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,247: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,248: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,248: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,248: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,248: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,249: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,249: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,249: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,249: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,250: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,250: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,250: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,251: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,251: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,251: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,251: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,252: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,252: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,252: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,252: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,253: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,253: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,253: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,254: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,254: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,254: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,254: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,255: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,255: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,255: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,255: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,256: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,256: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,256: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,256: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,256: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,257: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,257: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,257: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,257: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,257: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,258: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,258: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,258: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,258: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,259: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,259: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,259: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,259: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,260: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,260: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,260: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,260: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,261: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,261: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,261: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,261: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,261: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,262: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,262: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,262: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,262: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,263: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,263: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,264: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,264: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,265: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,266: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,266: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,266: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,267: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,267: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,267: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,267: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,268: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,268: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,268: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,271: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,271: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,272: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,272: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,272: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,273: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,273: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,273: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,273: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,274: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,274: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,275: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,277: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,278: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,279: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,279: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,279: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,279: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,280: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,280: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,280: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,281: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,281: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,282: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,283: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,283: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,283: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,284: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,284: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,284: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,284: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,285: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,285: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,288: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,290: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,290: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,290: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,290: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,291: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,291: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,291: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,292: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,292: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,292: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,293: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,295: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,296: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,296: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,297: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,297: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,297: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,298: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,298: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,298: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,299: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,299: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,300: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,300: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,301: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,301: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,301: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,301: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,302: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,302: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,303: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,303: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,303: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,305: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,305: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,305: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,306: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,306: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,306: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,307: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,307: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,307: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,307: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,308: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,308: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,308: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,309: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,309: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,310: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,310: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,310: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,310: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,311: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,311: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,311: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,312: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,312: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,312: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,312: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,313: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,313: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,313: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,313: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,314: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,314: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,314: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,317: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,317: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,318: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,319: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,319: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,319: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,320: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,320: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,320: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,321: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,321: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,322: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,322: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,322: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,322: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,323: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,323: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,323: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,324: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,324: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,324: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,325: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,326: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,326: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,327: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,327: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,327: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,327: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,328: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,328: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,328: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,329: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,329: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,329: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,329: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,330: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,330: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,330: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,330: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,331: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,331: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,331: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,331: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,331: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,332: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,332: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,332: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,333: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,333: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,333: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,334: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,334: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,334: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,335: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,335: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,335: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,335: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,336: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,336: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,336: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,336: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,337: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,337: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,338: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,338: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,338: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,338: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,338: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,339: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,339: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,339: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,339: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,340: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,340: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,340: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,341: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,341: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,341: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,341: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,342: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,342: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,342: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,342: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,343: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,343: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,343: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,343: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,343: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,344: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,344: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,344: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,344: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,345: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,345: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,345: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,345: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,346: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,346: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,346: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,346: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,346: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,347: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,347: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,347: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,347: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,348: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,348: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,348: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,348: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,349: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,349: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,349: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,349: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,350: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,350: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,350: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,351: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,351: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,351: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,351: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,352: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,352: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,352: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,353: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,353: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,353: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,353: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,354: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,354: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,354: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,354: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,354: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,355: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,355: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,355: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,355: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,356: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,356: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,356: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,356: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,357: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,357: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,357: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,357: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,357: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,358: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,358: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,358: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,358: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,359: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,359: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,359: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,359: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,360: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,360: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,360: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,360: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,361: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,361: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,361: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,361: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,361: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,362: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,362: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,362: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,362: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,362: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,363: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,363: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,363: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,363: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,364: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,364: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,364: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,365: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,365: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,365: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,365: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,365: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,366: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,366: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,366: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,367: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,367: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,367: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,367: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,368: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,368: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,368: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,368: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,369: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,369: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,369: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,370: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,370: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,370: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,371: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,371: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,371: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,371: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,372: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,372: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,372: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,372: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,373: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,373: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,373: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,373: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,374: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,374: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,374: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,374: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,375: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,375: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,375: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,375: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,375: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,376: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,376: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,376: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,377: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,377: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,377: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,377: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,378: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,378: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,378: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,378: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,379: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,379: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,379: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,379: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,379: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,380: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,380: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,380: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,380: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,381: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,381: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,381: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,381: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,382: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,382: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,382: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,383: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,383: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,383: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,383: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,384: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,384: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,384: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,385: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,385: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,385: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,385: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,386: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,386: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,387: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,387: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,387: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,387: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,388: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,388: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,388: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,388: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,388: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,389: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,389: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,389: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,389: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,390: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,390: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,390: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,391: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,391: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,391: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,391: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,392: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,392: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,392: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,392: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,393: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,393: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,393: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,393: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,393: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,394: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,394: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,394: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,394: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,395: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,395: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,395: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,395: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,396: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,396: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,396: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,396: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,396: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,397: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,397: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,397: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,397: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,398: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,398: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,398: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,398: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,398: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,399: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,399: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,399: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,400: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,400: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,400: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,401: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,401: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,401: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,401: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,402: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,402: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,402: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,402: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,403: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,403: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,403: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,403: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,404: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,404: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,404: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,405: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,405: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,405: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,406: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,406: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,406: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,406: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,407: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,407: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,407: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,407: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,408: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,408: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,408: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,408: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,409: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,409: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,409: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,409: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,410: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,410: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,410: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,410: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,411: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,411: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,411: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,411: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,412: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,412: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,412: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,412: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,413: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,413: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,413: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,413: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,413: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,413: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,414: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,414: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,414: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,414: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,415: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,415: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,415: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,415: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,416: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,416: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,416: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,416: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,417: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,417: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,417: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,417: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,418: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,418: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,418: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,419: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,419: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,419: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,419: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,420: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,420: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,420: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,420: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,421: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,421: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,421: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,422: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,422: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,422: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,422: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,423: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,423: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,423: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,423: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,424: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,424: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,424: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,424: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,424: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,425: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,425: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,425: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,425: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,426: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,426: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,426: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,426: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,426: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,427: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,427: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,427: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,427: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,428: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,428: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,428: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,428: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,429: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,429: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,429: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,429: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,429: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,430: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,430: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,430: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,430: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,431: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,431: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,431: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,431: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,432: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,432: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,432: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,432: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,433: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,433: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,433: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,434: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,434: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,434: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,434: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,435: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,435: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,435: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,435: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,436: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,436: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,436: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,436: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,437: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,437: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,437: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,437: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,438: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,438: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,438: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,438: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,439: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,439: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,439: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,439: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,440: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,440: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,440: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,441: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,441: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,441: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,441: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,442: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,442: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,442: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,442: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,443: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,443: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,443: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,443: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,443: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,444: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,444: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,444: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,444: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,445: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,445: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,445: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,445: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,445: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,446: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,446: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,446: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,446: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,447: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,447: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,447: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,447: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,448: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,448: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,448: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,448: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,448: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,449: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,449: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,449: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,449: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,450: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,450: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,451: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,451: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,451: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,451: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,452: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,452: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,452: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,453: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,453: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,453: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,453: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,454: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,454: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,454: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,455: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,455: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,455: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,456: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,456: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,456: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,457: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,457: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,457: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,457: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,457: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,458: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,458: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,458: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,459: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,459: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,459: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,459: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,459: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,460: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,460: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,460: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,460: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,461: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,461: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,461: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,462: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,462: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,462: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,462: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,463: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,463: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,463: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,463: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,463: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,464: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,464: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,464: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,464: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,465: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,465: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,465: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,465: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,465: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,466: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,466: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,467: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,467: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,467: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,468: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,468: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,468: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,469: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,469: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,469: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,469: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,469: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,470: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,470: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,470: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,471: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,471: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,471: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,472: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,472: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,472: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,472: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,472: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,473: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,473: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,473: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,473: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,474: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,474: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,474: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,474: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,475: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,475: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,475: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,475: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,476: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,476: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,476: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,476: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,477: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,477: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,477: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,477: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,478: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,478: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,478: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,479: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,479: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,479: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,479: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,479: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,480: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,480: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,480: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,480: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,481: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,481: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,481: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,481: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,482: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,482: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,482: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,482: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,482: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,483: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,483: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,483: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,484: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,484: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,484: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,484: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,485: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,485: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,485: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,485: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,486: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,486: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,487: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,487: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,487: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,488: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,488: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,488: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,489: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,489: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,489: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,489: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,489: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,490: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,490: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,490: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,490: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,491: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,491: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,491: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,491: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,491: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,492: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,492: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,492: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,493: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,493: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,493: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,493: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,493: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,494: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,494: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,494: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,495: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,495: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,495: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,495: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,496: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,496: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,496: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,496: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,497: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,497: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,497: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,497: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,497: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,498: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,498: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,498: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,498: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,499: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,499: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,500: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,500: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,500: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,500: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,501: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,501: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,501: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,502: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,502: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,502: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,502: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,503: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,503: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,503: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,504: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,504: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,504: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,505: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,505: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,505: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,505: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,505: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,506: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,506: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,506: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,507: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,507: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,507: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,508: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,508: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,508: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,508: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,508: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,509: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,509: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,509: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,510: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,510: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,510: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,510: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,511: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,511: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,511: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,511: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,512: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,512: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,512: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,512: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,512: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,513: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,513: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,513: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,513: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,514: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,514: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,514: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,514: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,514: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,515: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,515: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,515: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,516: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,516: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,516: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,516: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,516: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,517: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,517: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,517: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,518: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,518: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,518: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,519: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,519: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,519: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,520: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,520: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,520: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,520: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,520: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,521: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,521: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,521: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,522: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,522: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,522: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,523: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,523: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,523: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,523: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,523: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,524: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,524: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,524: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,525: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,525: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,525: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,525: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,525: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,526: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,526: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,526: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,526: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,527: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,527: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,527: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,528: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,528: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,528: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,528: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,529: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,529: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,529: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,529: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,529: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,530: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,530: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,530: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,530: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,531: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,531: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,531: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,531: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,532: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,532: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,532: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,533: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,533: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,533: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,533: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,534: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,534: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,535: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,535: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,535: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,535: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,535: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,536: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,536: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,537: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,537: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,537: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,537: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,538: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,538: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,538: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,539: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,539: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,539: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,539: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,540: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,540: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,540: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,540: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,541: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,541: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,541: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,541: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,541: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,542: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,542: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,542: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,542: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,543: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,543: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,543: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,544: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,544: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,544: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,544: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,544: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,545: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,545: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,545: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,546: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,546: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,546: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,546: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,546: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,547: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,547: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,547: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,547: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,548: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,548: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,548: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,548: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,549: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,549: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,549: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,549: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,549: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,550: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,550: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,551: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,551: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,551: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,551: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,552: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,552: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,552: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,552: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,553: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,553: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,553: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,554: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,554: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,554: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,554: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,555: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,555: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,555: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,556: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,556: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,556: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,556: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,557: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,557: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,557: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,557: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,558: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,558: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,558: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,558: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,558: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,559: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,559: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,559: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,560: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,560: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,560: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,560: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,561: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,561: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,561: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,561: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,562: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,562: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,562: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,562: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,563: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,563: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,563: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,563: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,563: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,564: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,564: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,564: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,564: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,565: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,565: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,565: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,565: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,566: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,566: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,566: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,566: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,566: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,567: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,567: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,568: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,568: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,568: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,568: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,569: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,569: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,569: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,570: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,570: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,570: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,571: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,571: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,571: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,571: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,572: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,572: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,572: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,572: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,573: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,573: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,573: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,573: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,574: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,574: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,574: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,574: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,575: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,575: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,575: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,575: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,576: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,576: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,576: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,576: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,577: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,577: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,577: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,578: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,578: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,578: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,578: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,579: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,579: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,579: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,579: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,580: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,580: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,580: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,580: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,580: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,581: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,581: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,581: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,581: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,582: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,582: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,582: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,582: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,583: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,583: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,583: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,583: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,584: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,584: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,584: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,585: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,585: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,585: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,585: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,586: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,586: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,586: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,587: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,587: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,587: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,588: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,588: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,588: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,588: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,588: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,589: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,589: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,589: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,590: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,590: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,590: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,590: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,591: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,591: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,591: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,591: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,592: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,592: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,592: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,592: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,592: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,593: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,593: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,594: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,594: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,594: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,594: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,595: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,595: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,595: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,595: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,595: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,596: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,596: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,596: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,596: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,597: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,597: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,597: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,597: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,598: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,598: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,598: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,598: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,599: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,599: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,599: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,599: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,600: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,600: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,600: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,600: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,601: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,601: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,601: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,602: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,602: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,602: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,602: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,603: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,603: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,603: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,604: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,604: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,604: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,605: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,605: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,606: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,606: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,606: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,606: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,607: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,607: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,609: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,610: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,611: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,611: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,612: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,612: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,612: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,613: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,613: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,613: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,613: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,614: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,615: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,615: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,615: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,616: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,616: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,616: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,617: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,617: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,617: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,617: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,619: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,622: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,622: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,622: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,623: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,623: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,623: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,624: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,624: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,624: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,624: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,625: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,626: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,626: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,627: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,627: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,627: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,627: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,628: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,628: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,629: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,629: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,630: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,632: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,632: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,634: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,634: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,634: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,635: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,635: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,635: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,636: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,636: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,637: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,639: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,639: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,639: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,640: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,640: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,640: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,641: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,641: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,641: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,642: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,643: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,644: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,644: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,644: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,645: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,645: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,645: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,646: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,646: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,646: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,646: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,647: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,648: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,648: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,648: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,649: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,649: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,649: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,650: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,650: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,650: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,651: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,651: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,651: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,651: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,652: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,652: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,652: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,652: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,653: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,653: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,654: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,654: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,655: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,655: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,655: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,656: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,656: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,658: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,658: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,659: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,660: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,660: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,660: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,661: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,661: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,661: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,662: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,662: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,663: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,663: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,663: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,663: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,664: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,664: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,664: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,665: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,665: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,665: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,665: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,666: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,666: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,666: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,666: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,667: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,667: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,668: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,668: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,668: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,669: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,669: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,670: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,670: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,670: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,670: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,671: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,671: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,671: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,672: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,672: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,672: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,673: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,673: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,673: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,673: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,674: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,674: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,674: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,674: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,675: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,675: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,675: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,675: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,676: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,676: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,676: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,676: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,677: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,677: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,677: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,677: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,677: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,678: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,678: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,678: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,678: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,679: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,679: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,679: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,679: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,679: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,680: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,680: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,680: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,681: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,681: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,681: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,681: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,681: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,682: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,682: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,682: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,683: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,683: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,683: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,683: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,684: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,684: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,684: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,684: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,685: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,685: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,685: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,686: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,686: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,686: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,687: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,687: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,687: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,688: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,688: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,689: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,689: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,689: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,689: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,689: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,690: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,690: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,691: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,691: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,691: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,691: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,692: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,692: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,692: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,692: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,692: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,693: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,693: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,693: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,693: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,694: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,694: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,694: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,694: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,694: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,695: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,695: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,695: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,695: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,696: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,696: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,696: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,696: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,697: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,697: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,697: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,697: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,697: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,698: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,698: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,698: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,698: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,699: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,699: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,699: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,699: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,700: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,700: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,700: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,701: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,701: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,701: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,701: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,702: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,702: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,703: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,703: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,703: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,703: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,703: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,704: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,704: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,705: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,705: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,705: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,705: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,706: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,706: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,706: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,706: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,706: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,707: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,707: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,707: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,707: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,708: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,708: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,708: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,708: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,709: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,709: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,709: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,709: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,710: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,710: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,710: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,710: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,711: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,711: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,711: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,711: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,712: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,712: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,712: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,712: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,713: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,713: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,713: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,713: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,714: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,714: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,714: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,714: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,714: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,715: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,715: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,715: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,715: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,716: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,716: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,716: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,717: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,717: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,717: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,718: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,718: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,718: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,719: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,719: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,719: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,719: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,720: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,720: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,720: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,720: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,720: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,721: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,721: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,721: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,721: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,722: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,722: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,722: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,722: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,723: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,723: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,723: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,723: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,724: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,724: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,724: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,724: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,725: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,725: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,725: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,725: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,726: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,726: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,726: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,726: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,727: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,727: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,727: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,727: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,728: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,728: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,728: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,728: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,728: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,729: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,729: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,729: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,729: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,730: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,730: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,730: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,730: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,730: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,731: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,731: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,731: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,732: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,732: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,732: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,732: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,732: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,733: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,733: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,733: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,734: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,734: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,735: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,735: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,735: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,735: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,736: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,736: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,736: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,736: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,736: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,737: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,737: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,737: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,737: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,738: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,738: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,738: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,738: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,739: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,739: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,739: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,739: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,739: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,740: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,740: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,740: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,740: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,741: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,741: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,741: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,741: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,741: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,742: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,742: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,742: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,742: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,743: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,743: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,743: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,743: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,744: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,744: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,744: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,744: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,744: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,745: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,745: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,745: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,745: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,746: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,746: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,746: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,746: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,746: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,747: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,747: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,747: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,747: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,748: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,748: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,748: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,748: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,749: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,749: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,749: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,749: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,749: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,750: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,750: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,751: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,751: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,751: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,751: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,752: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,752: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,752: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,753: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,753: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,753: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,753: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,754: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,754: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,754: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,754: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,755: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,755: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,755: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,756: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,756: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,756: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,756: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,757: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,757: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,757: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,757: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,758: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,758: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,758: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,758: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,758: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,759: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,759: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,759: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,759: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,760: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,760: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,760: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,760: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,760: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,761: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,761: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,761: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,761: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,762: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,762: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,762: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,762: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,763: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,763: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,763: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,764: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,764: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,764: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,764: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,765: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,765: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,765: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,765: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,766: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,766: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,766: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,766: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,766: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,767: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,767: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,768: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,768: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,768: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,768: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,769: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,769: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,769: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,769: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,769: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,770: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,770: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,771: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,771: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,771: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,771: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,771: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,772: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,772: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,772: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,772: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,772: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,773: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,773: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,773: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,773: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,774: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,774: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,774: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,774: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,775: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,775: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,775: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,775: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,776: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,776: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,776: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,776: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,777: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,777: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,777: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,777: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,777: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,778: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,778: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,778: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,778: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,779: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,779: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,779: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,779: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,779: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,780: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,780: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,780: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,780: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,781: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,781: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,781: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,781: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,782: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,782: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,782: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,782: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,782: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,783: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,783: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,784: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,784: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,784: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,784: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,785: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,785: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,785: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,785: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,785: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,786: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,786: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,787: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,787: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,787: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,787: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,788: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,788: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,788: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,789: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,789: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,789: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,789: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,790: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,790: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,790: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,790: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,791: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,791: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,791: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,791: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,791: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,792: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,792: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,792: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,792: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,793: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,793: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,793: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,793: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,793: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,794: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,794: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,794: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,795: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,795: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,795: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,795: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,795: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,796: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,796: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,796: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,796: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,796: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,797: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,797: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,797: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,798: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,798: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,798: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,798: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,799: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,799: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,799: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,799: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,800: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,800: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,801: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,801: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,801: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,801: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,802: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,802: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,802: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,802: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,802: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,803: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,803: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,804: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,804: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,804: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,804: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,805: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,805: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,805: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,806: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,806: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,806: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,806: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,807: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,807: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,807: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,807: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,808: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,808: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,808: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,808: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,808: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,809: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,809: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,809: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,809: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,810: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,810: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,810: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,810: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,810: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,811: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,811: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,811: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,811: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,812: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,812: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,812: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,812: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,813: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,813: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,813: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,813: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,813: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,814: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,814: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,814: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,814: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,815: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,815: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,815: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,815: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,815: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,816: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,816: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,816: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,817: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,817: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,817: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,818: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,818: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,818: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,818: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,818: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,819: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,819: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,819: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,820: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,820: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,820: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,821: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,821: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,821: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,821: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,822: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,822: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,822: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,823: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,823: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,823: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,823: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,824: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,824: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,824: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,825: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,825: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,825: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,825: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,826: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,826: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,827: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,827: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,827: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,827: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,828: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,828: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,828: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,829: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,829: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,829: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,830: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,830: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,830: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,831: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,831: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,831: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,832: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,832: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,832: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,832: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,833: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,833: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,834: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,834: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,835: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,835: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,835: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,836: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,836: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,836: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,836: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,837: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,837: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,838: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,838: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,838: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,838: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,839: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,839: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,839: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,840: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,840: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,840: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,840: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,841: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,841: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,841: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,841: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,842: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,842: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,842: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,842: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,842: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,843: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,843: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,843: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,843: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,844: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,844: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,844: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,844: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,845: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,845: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,845: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,845: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,846: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,846: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,846: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,846: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,846: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,847: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,847: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,847: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,848: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,848: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,848: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,848: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,849: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,849: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,849: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,849: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,850: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,850: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,850: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,850: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,851: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,851: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,851: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,852: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,852: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,852: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,852: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,853: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,853: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,853: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,854: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,854: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,854: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,854: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,855: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,855: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,855: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,855: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,856: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,856: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,856: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,856: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,856: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,857: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,857: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,857: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,857: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,858: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,858: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,858: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,858: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,859: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,859: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,859: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,859: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,860: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,860: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,860: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,860: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,860: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,861: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,861: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,861: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,862: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,862: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,862: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,862: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,863: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,863: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,863: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,863: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,864: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,864: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,864: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,864: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,864: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,865: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,865: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,865: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,865: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,866: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,866: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,866: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,866: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,866: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,867: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,867: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,868: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,868: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,868: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,868: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,869: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,869: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,869: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,870: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,870: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,870: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,870: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,871: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,871: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,871: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,871: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,872: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,872: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,872: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,873: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,873: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,873: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,873: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,874: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,874: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,874: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,874: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,875: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,875: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,875: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,875: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,875: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,876: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,876: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,876: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,876: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,877: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,877: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,877: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,877: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,878: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,878: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,878: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,878: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,878: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,879: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,879: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,879: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,879: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,880: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,880: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,880: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,880: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,881: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,881: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,881: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,881: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,882: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,882: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,882: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,883: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,883: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,883: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,883: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,883: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,884: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,884: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,884: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,885: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,885: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,885: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,886: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,886: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,886: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,886: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,887: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,887: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,887: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,887: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,888: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,888: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,888: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,889: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,889: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,889: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,889: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,889: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,890: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,890: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,890: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,890: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,891: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,891: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,891: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,891: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,892: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,892: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,892: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,892: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,892: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,893: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,893: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,893: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,893: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,894: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,894: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,894: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,894: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,894: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,895: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,895: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,895: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,895: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,896: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,896: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,896: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,896: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,897: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,897: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,897: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,897: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,897: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,898: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,898: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,898: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,898: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,899: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,899: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,900: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,900: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,900: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,901: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,901: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,901: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,902: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,902: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,902: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,902: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,903: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,903: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,903: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,903: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,904: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,904: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,904: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,905: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,905: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,905: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,905: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,905: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,906: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,906: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,906: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,906: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,907: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,907: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,907: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,908: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,908: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,908: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,908: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,908: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,909: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,909: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,909: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,909: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,910: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,910: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,910: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,910: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,911: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,911: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,911: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,911: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,911: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,912: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,912: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,912: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,912: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,913: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,913: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,913: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,913: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,914: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,914: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,914: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,914: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,914: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,915: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,915: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,915: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,915: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,916: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,916: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,916: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,916: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,916: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,917: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,917: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,917: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,918: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,918: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,918: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,918: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,919: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,919: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,919: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,919: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,920: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,920: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,921: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,921: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,922: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,922: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,922: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,922: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,923: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,923: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,923: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,923: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,923: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,924: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,924: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,924: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,924: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,925: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,925: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,925: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,925: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,925: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,926: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,926: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,926: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,926: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,927: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,927: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,927: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,927: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,928: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,928: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,928: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,928: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,928: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,929: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,929: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,929: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,929: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,930: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,930: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,930: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,930: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,930: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,931: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,931: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,931: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,931: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,932: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,932: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,932: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,932: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,933: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,933: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,933: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,934: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,934: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,934: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,935: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,935: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,935: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,935: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,936: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,936: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,936: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,936: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,937: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,937: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,938: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,938: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,939: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,939: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,939: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,939: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,940: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,940: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,941: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,942: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,942: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,943: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,944: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,945: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,945: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,946: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,946: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,946: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,946: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,947: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,948: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,948: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,948: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,949: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,949: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,949: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,950: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,950: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,950: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,951: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,952: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,953: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,953: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,953: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,953: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,956: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,956: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,958: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,959: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,960: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,960: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,961: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,962: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,962: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,963: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,963: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,963: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,963: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,964: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,964: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,964: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,965: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,965: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,966: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,966: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,967: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,967: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,967: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,967: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,968: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,968: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,968: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,968: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,976: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,978: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,978: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,979: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,979: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,979: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,979: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,980: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,980: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,981: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,981: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,981: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,982: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,982: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,983: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,983: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,984: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,984: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,984: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,984: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,985: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,985: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,985: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,986: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,986: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,986: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,987: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,987: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,987: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,988: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,988: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,988: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,989: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,989: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,989: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,990: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,990: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,990: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,991: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,991: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,991: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,991: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,992: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,992: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,992: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,993: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,993: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,993: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,994: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,994: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,994: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,995: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,995: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,995: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,995: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,996: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:00,997: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:00,997: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:00,997: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:00,997: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:00,998: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:00,998: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:00,998: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:00,998: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:00,999: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:00,999: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:00,999: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,000: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,000: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,001: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,001: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,002: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,002: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,002: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,002: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,003: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,003: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,003: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,005: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,005: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,006: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,006: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,007: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,007: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,007: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,007: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,008: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,008: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,008: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,009: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,009: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,009: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,009: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,010: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,010: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,010: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,010: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,011: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,011: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,011: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,011: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,012: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,012: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,012: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,013: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,013: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,013: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,013: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,013: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,014: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,014: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,014: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,014: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,015: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,015: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,015: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,015: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,016: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,016: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,016: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,016: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,017: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,017: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,017: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,018: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,018: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,019: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,019: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,019: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,019: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,020: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,020: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,020: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,020: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,021: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,021: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,021: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,022: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,022: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,022: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,023: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,023: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,023: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,023: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,024: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,024: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,024: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,024: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,025: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,025: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,025: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,025: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,026: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,026: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,026: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,027: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,027: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,027: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,027: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,028: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,028: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,028: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,028: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,029: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,029: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,029: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,029: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,029: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,030: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,030: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,030: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,030: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,031: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,031: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,031: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,031: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,032: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,032: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,032: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,032: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,033: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,033: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,033: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,034: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,034: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,035: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,035: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,035: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,035: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,036: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,036: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,036: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,037: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,037: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,037: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,037: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,038: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,038: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,038: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,039: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,039: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,039: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,039: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,040: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,040: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,040: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,040: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,041: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,041: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,041: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,041: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,041: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,042: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,042: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,042: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,042: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,043: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,043: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,043: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,044: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,044: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,044: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,044: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,044: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,045: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,045: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,045: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,045: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,046: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,046: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,046: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,046: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,047: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,047: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,047: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,047: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,048: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,048: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,048: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,048: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,049: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,049: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,049: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,049: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,049: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,050: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,050: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,051: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,051: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,051: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,051: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,052: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,052: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,052: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,052: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,053: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,053: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,053: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,054: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,054: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,054: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,054: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,055: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,055: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,055: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,056: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,056: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,056: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,056: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,057: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,057: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,057: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,057: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,058: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,058: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,058: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,058: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,058: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,059: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,059: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,059: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,059: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,060: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,060: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,060: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,060: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,060: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,061: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,061: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,061: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,062: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,062: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,062: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,062: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,062: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,063: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,063: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,063: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,063: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,063: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,064: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,064: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,064: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,064: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,065: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,065: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,066: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,066: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,066: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,066: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,066: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,067: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,067: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,068: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,068: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,068: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,068: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,069: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,069: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,069: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,069: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,070: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,070: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,070: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,071: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,071: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,071: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,072: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,072: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,072: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,072: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,073: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,073: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,073: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,073: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,074: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,074: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,074: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,074: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,075: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,075: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,075: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,076: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,076: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,076: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,076: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,077: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,077: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,077: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,077: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,078: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,078: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,078: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,078: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,078: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,079: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,079: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,079: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,079: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,080: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,080: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,080: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,080: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,080: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,081: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,081: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,081: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,081: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,082: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,082: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,082: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,082: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,083: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,083: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,083: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,084: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,084: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,084: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,085: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,085: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,085: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,085: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,086: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,086: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,086: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,086: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,087: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,087: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,088: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,088: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,088: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,088: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,089: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,089: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,089: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,090: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,090: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,090: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,090: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,091: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,091: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,091: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,091: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,092: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,092: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,092: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,092: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,093: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,093: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,093: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,093: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,094: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,094: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,094: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,094: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,094: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,095: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,095: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,095: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,096: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,096: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,096: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,096: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,097: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,097: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,097: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,097: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,098: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,098: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,098: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,098: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,098: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,099: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,099: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,100: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,100: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,100: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,100: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,101: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,101: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,101: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,102: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,102: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,102: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,103: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,103: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,103: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,104: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,104: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,104: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,105: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,105: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,105: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,105: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,106: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,106: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,106: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,106: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,107: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,107: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,107: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,107: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,107: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,108: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,108: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,108: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,109: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,109: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,109: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,109: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,109: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,110: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,110: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,110: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,110: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,110: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,111: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,111: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,111: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,111: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,112: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,112: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,112: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,113: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,113: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,113: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,113: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,113: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,114: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,114: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,114: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,114: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,115: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,115: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,115: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,115: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,116: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,116: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,116: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,117: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,117: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,117: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,118: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,118: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,118: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,119: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,119: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,119: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,119: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,120: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,120: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,121: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,121: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,121: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,121: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,122: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,122: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,122: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,123: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,123: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,123: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,123: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,124: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,124: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,124: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,124: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,125: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,125: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,125: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,125: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,126: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,126: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,126: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,127: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,127: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,127: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,127: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,128: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,128: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,128: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,128: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,128: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,129: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,129: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,129: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,129: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,130: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,130: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,130: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,130: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,130: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,131: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,131: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,131: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,132: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,132: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,132: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,133: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,133: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,133: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,133: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,134: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,134: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,134: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,135: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,135: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,135: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,135: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,136: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,136: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,137: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,137: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,137: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,138: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,138: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,138: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,138: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,139: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,139: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,139: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,139: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,140: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,140: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,140: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,140: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,140: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,141: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,141: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,141: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,141: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,142: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,142: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,142: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,142: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,143: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,143: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,143: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,143: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,144: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,144: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,144: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,144: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,144: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,145: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,145: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,145: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,146: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,146: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,146: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,146: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,147: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,147: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,147: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,147: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,148: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,148: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,148: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,148: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,148: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,149: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,149: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,150: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,150: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,150: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,150: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,151: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,151: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,151: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,151: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,151: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,152: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,152: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,153: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,153: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,153: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,153: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,154: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,154: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,154: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,155: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,155: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,155: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,156: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,156: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,156: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,156: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,156: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,157: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,157: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,157: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,158: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,158: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,158: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,158: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,159: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,159: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,159: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,159: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,160: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,160: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,160: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,160: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,160: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,161: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,161: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,161: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,161: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,162: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,162: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,162: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,162: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,162: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,163: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,163: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,163: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,163: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,164: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,164: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,164: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,164: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,165: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,165: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,165: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,166: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,166: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,166: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,167: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,167: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,167: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,167: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,168: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,168: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,169: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,169: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,169: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,170: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,170: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,170: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,171: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,171: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,171: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,171: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,172: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,172: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,172: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,172: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,172: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,173: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,173: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,173: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,173: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,174: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,174: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,174: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,174: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,174: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,175: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,175: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,175: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,175: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,176: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,176: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,176: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,176: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,177: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,177: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,177: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,177: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,177: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,178: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,178: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,178: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,178: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,179: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,179: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,179: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,179: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,179: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,180: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,180: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,180: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,181: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,181: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,181: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,181: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,181: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,182: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,182: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,182: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,182: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,183: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,183: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,183: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,184: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,184: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,184: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,184: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,185: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,185: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,185: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,186: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,186: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,187: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,187: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,188: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,188: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,188: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,188: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,189: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,189: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,189: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,189: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,189: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,190: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,190: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,190: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,190: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,191: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,191: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,191: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,191: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,192: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,192: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,192: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,192: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,193: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,193: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,193: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,193: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,193: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,194: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,194: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,194: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,194: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,195: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,195: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,195: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,196: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,196: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,196: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,196: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,196: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,197: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,197: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,197: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,197: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,197: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,198: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,198: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,198: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,198: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,199: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,199: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,199: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,199: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,200: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,200: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,200: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,200: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,201: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,201: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,201: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,202: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,202: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,202: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,203: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,203: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,203: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,204: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,204: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,205: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,205: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,205: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,205: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,206: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,206: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,206: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,206: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,206: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,207: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,207: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,207: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,207: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,208: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,208: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,208: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,209: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,209: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,209: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,209: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,209: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,210: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,210: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,210: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,210: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,211: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,211: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,211: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,211: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,212: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,212: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,212: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,212: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,213: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,213: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,213: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,213: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,214: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,214: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,214: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,214: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,214: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,215: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,215: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,215: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,215: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,216: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,216: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,217: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,217: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,217: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,218: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,218: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,218: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,218: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,219: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,219: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,219: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,219: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,220: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,220: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,220: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,221: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,221: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,222: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,222: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,222: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,222: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,223: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,223: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,223: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,223: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,223: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,224: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,224: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,224: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,225: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,225: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,225: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,225: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,225: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,226: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,226: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,226: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,226: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,226: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,227: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,227: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,228: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,228: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,228: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,228: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,229: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,229: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,229: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,229: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,229: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,229: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,230: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,230: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,230: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,230: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,231: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,231: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,231: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,231: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,232: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,232: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,232: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,232: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,233: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,233: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,233: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,233: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,234: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,234: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,234: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,235: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,235: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,235: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,236: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,236: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,236: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,237: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,237: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,237: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,238: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,238: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,238: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,238: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,239: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,239: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,239: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,239: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,240: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,240: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,240: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,240: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,240: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,241: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,241: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,241: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,241: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,242: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,242: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,242: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,242: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,243: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,243: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,243: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,244: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,244: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,244: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,244: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,245: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,245: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,245: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,245: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,246: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,246: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,246: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,246: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,246: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,247: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,247: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,247: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,247: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,248: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,248: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,248: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,248: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,248: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,249: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,249: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,249: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,250: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,250: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,250: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,250: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,251: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,251: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,251: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,251: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,252: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,252: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,252: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,253: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,253: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,253: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,254: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,254: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,255: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,255: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,255: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,255: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,256: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,256: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,256: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,257: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,257: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,257: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,257: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,258: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,258: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,258: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,258: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,258: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,259: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,259: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,259: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,259: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,260: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,260: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,260: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,260: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,260: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,261: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,261: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,261: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,261: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,262: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,262: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,262: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,262: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,263: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,263: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,263: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,263: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,263: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,264: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,264: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,264: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,264: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,265: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,265: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,265: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,265: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,265: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,266: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,266: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,267: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,267: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,267: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,267: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,268: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,268: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,269: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,269: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,269: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,269: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,269: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,270: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,270: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,271: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,271: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,271: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,271: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,272: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,272: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,272: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,273: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,273: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,273: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,273: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,274: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,274: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,274: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,274: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,275: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,275: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,275: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,275: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,275: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,276: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,276: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,276: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,276: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,277: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,277: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,277: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,277: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,278: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,278: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,278: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,278: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,279: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,279: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,279: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,279: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,279: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,280: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,280: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,280: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,280: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,280: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,281: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,281: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,281: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,281: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,282: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,282: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,282: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,283: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,283: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,283: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,284: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,284: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,284: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,285: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,285: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,285: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,285: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,286: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,286: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,286: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,287: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,287: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,287: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,288: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,288: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,288: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,289: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,289: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,289: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,289: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,290: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,290: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,290: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,290: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,291: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,291: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,291: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,291: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,292: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,292: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,292: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,292: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,293: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,293: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,293: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,293: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,294: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,294: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,294: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,294: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,295: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,295: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,295: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,295: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,295: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,296: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,296: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,296: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,296: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,297: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,297: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,297: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,297: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,297: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,298: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,298: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,298: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,298: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,299: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,299: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,299: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,299: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,300: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,300: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,300: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,301: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,301: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,301: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,302: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,302: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,302: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,303: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,303: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,304: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,304: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,307: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,309: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,309: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,309: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,310: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,310: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,310: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,310: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,311: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,311: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,311: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,312: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,313: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,313: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,313: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,313: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,314: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,314: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,314: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,314: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,315: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,315: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,317: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,317: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,317: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,318: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,318: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,319: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,319: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,319: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,319: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,320: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,320: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,322: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,323: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,323: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,323: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,323: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,324: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,324: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,324: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,324: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,325: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,325: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,327: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,328: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,328: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,328: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,329: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,329: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,329: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,330: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,330: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,330: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,330: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,339: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,340: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,340: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,341: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,341: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,341: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,341: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,342: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,342: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,342: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,343: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,345: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,345: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,345: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,346: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,346: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,347: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,347: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,347: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,347: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,348: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,348: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,349: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,349: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,349: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,350: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,350: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,351: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,351: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,351: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,351: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,352: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,352: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,352: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,354: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,354: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,355: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,355: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,356: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,356: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,356: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,356: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,357: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,357: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,357: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,358: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,358: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,359: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,359: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,360: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,360: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,360: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,360: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,361: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,361: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,362: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,363: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,363: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,363: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,363: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,364: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,364: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,364: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,364: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,365: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,365: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,365: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,366: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,366: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,367: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,367: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,368: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,368: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,368: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,368: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,369: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,369: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,369: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,370: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,370: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,370: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,370: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,371: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,371: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,372: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,372: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,372: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,372: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,373: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,373: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,373: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,373: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,374: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,374: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,374: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,374: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,375: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,375: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,375: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,375: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,376: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,376: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,376: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,377: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,377: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,377: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,377: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,377: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,378: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,378: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,378: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,379: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,379: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,379: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,379: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,380: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,380: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,380: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,380: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,381: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,381: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,381: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,381: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,381: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,382: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,382: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,382: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,382: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,383: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,383: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,383: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,384: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,384: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,384: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,384: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,385: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,385: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,386: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,386: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,386: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,386: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,387: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,387: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,387: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,388: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,388: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,388: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,389: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,389: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,389: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,389: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,389: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,390: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,390: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,390: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,391: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,391: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,391: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,391: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,392: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,392: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,392: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,392: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,393: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,393: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,393: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,393: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,393: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,394: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,394: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,394: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,394: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,395: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,395: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,395: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,395: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,396: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,396: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,396: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,396: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,397: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,397: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,397: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,397: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,397: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,398: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,398: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,398: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,398: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,398: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,399: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,399: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,400: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,400: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,400: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,400: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,401: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,401: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,401: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,402: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,402: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,402: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,403: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,403: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,403: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,403: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,404: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,404: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,404: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,404: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,405: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,405: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,405: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,406: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,406: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,406: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,406: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,407: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,407: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,407: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,407: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,408: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,408: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,408: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,408: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,409: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,409: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,409: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,409: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,410: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,410: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,410: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,410: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,410: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,411: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,411: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,411: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,411: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,412: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,412: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,412: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,412: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,413: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,413: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,413: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,413: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,414: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,414: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,414: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,415: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,415: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,415: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,415: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,415: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,416: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,416: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,416: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,417: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,417: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,417: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,418: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,418: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,419: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,419: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,419: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,420: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,420: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,420: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,421: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,421: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,421: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,421: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,422: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,422: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,422: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,422: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,423: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,423: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,423: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,424: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,424: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,424: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,424: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,425: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,425: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,425: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,425: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,426: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,426: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,426: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,426: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,427: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,427: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,427: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,427: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,428: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,428: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,428: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,428: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,428: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,429: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,429: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,429: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,429: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,430: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,430: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,430: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,430: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,431: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,431: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,431: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,431: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,432: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,432: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,432: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,433: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,433: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,433: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,434: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,434: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,434: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,434: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,435: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,435: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,436: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,436: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,436: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,436: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,437: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,438: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,438: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,438: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,438: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,439: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,439: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,440: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,440: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,440: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,440: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,441: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,441: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,441: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,442: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,442: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,442: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,442: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,443: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,443: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,443: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,443: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,444: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,444: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,444: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,444: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,444: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,445: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,445: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,445: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,445: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,446: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,446: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,446: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,446: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,446: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,447: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,447: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,447: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,448: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,448: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,448: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,448: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,448: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,449: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,449: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,449: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,450: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,450: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,450: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,451: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,451: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,451: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,452: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,452: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,452: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,453: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,453: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,453: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,453: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,454: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,454: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,454: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,454: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,455: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,455: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,455: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,455: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,455: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,456: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,456: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,456: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,456: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,457: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,457: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,457: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,457: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,458: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,458: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,458: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,458: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,458: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,459: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,459: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,459: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,459: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,460: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,460: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,460: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,461: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,461: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,461: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,461: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,461: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,462: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,462: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,462: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,462: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,463: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,463: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,463: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,463: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,464: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,464: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,464: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,464: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,465: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,465: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,465: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,465: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,466: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,466: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,466: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,466: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,466: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,467: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,467: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,468: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,468: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,468: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,468: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,469: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,469: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,469: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,469: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,470: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,470: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,470: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,471: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,471: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,471: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,471: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,472: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,472: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,472: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,473: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,473: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,473: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,473: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,474: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,474: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,474: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,474: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,475: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,475: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,475: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,475: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,475: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,476: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,476: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,476: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,477: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,477: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,477: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,477: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,477: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,478: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,478: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,478: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,478: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,479: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,479: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,479: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,479: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,480: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,480: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,480: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,480: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,480: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,481: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,481: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,481: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,481: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,482: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,482: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,482: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,482: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,482: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,483: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,483: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,483: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,484: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,484: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,484: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,485: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,485: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,485: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,485: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,485: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,486: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,486: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,486: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,487: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,487: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,487: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,488: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,488: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,488: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,488: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,488: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,489: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,489: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,489: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,490: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,490: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,490: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,490: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,490: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,491: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,491: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,491: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,491: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,492: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,492: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,492: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,493: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,493: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,493: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,493: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,494: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,494: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,494: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,494: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,494: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,495: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,495: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,495: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,495: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,496: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,496: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,496: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,496: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,496: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,497: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,497: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,497: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,497: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,498: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,498: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,498: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,498: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,499: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,499: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,499: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,499: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,499: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,500: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,500: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,500: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,500: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,501: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,501: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,502: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,502: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,502: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,502: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,502: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,503: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,503: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,503: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,504: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,504: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,504: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,505: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,505: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,505: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,505: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,505: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,506: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,506: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,506: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,507: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,507: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,507: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,507: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,508: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,508: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,508: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,508: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,509: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,509: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,509: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,509: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,509: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,510: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,510: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,510: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,510: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,511: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,511: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,511: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,511: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,512: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,512: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,512: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,512: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,513: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,513: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,513: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,513: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,513: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,514: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,514: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,514: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,514: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,514: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,515: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,515: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,515: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,515: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,516: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,516: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,516: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,516: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,517: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,517: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,517: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,518: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,518: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,518: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,518: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,519: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,519: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,519: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,519: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,520: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,520: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,520: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,520: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,521: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,521: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,521: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,522: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,522: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,522: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,522: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,523: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,523: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,523: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,523: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,524: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,524: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,524: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,524: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,524: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,525: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,525: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,525: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,525: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,526: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,526: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,526: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,526: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,527: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,527: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,527: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,527: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,528: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,528: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,528: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,528: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,529: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,529: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,529: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,529: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,530: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,530: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,530: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,530: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,531: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,531: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,531: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,531: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,532: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,532: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,532: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,532: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,532: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,533: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,533: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,534: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,534: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,534: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,534: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,535: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,535: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,535: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,535: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,536: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,536: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,536: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,537: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,537: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,537: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,537: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,538: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,538: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,538: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,538: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,538: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,539: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,539: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,539: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,539: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,540: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,540: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,540: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,541: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,541: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,541: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,541: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,542: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,542: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,542: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,542: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,543: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,543: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,543: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,543: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,543: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,544: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,544: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,544: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,544: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,545: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,545: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,545: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,545: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,546: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,546: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,546: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,546: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,546: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,547: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,547: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,547: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,547: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,548: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,548: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,548: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,548: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,548: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,549: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,549: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,549: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,549: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,550: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,550: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,550: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,551: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,551: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,551: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,551: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,552: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,552: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,552: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,553: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,553: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,553: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,553: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,554: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,554: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,554: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,554: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,555: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,555: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,555: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,555: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,556: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,556: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,556: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,556: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,557: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,557: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,557: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,557: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,557: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,558: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,558: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,558: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,558: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,559: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,559: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,559: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,559: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,559: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,560: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,560: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,560: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,560: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,561: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,561: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,561: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,561: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,562: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,562: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,562: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,562: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,562: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,563: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,563: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,563: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,563: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,564: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,564: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,564: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,564: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,565: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,565: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,565: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,565: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,566: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,566: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,566: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,567: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,567: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,567: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,568: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,568: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,568: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,568: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,569: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,569: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,569: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,569: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,570: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,570: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,570: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,571: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,571: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,571: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,571: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,572: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,572: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,572: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,572: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,573: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,573: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,573: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,573: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,573: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,574: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,574: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,574: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,574: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,575: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,575: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,575: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,575: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,576: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,576: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,576: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,576: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,576: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,577: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,577: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,577: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,577: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,578: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,578: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,578: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,578: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,579: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,579: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,579: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,579: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,580: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,580: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,580: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,580: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,581: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,581: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,581: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,581: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,581: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,582: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,582: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,582: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,582: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,583: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,583: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,583: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,583: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,584: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,584: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,584: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,585: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,585: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,586: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,586: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,586: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,586: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,587: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,587: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,587: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,587: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,587: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,588: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,588: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,588: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,588: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,589: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,589: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,589: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,589: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,589: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,590: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,590: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,590: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,590: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,591: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,591: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,591: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,591: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,592: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,592: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,592: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,592: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,592: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,593: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,593: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,593: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,593: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,594: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,594: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,594: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,594: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,594: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,595: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,595: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,595: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,595: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,596: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,596: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,596: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,596: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,597: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,597: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,597: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,597: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,597: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,598: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,598: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,598: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,598: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,599: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,599: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,599: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,599: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,599: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,600: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,600: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,600: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,601: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,601: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,601: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,602: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,602: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,602: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,602: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,603: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,603: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,603: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,603: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,604: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,604: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,604: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,605: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,605: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,605: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,605: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,605: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,606: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,606: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,606: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,606: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,607: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,607: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,607: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,607: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,608: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,608: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,608: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,608: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,608: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,609: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,609: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,609: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,609: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,610: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,610: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,610: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,611: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,611: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,611: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,611: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,611: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,612: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,612: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,612: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,612: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,613: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,613: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,613: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,613: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,614: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,614: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,614: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,614: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,615: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,615: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,615: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,615: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,616: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,616: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,616: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,616: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,617: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,617: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,617: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,618: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,618: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,618: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,618: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,619: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,619: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,619: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,620: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,620: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,620: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,621: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,621: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,621: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,621: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,622: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,622: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,622: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,622: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,623: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,623: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,623: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,623: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,624: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,624: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,624: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,624: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,625: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,625: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,625: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,625: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,625: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,626: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,626: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,626: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,626: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,627: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,627: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,627: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,627: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,627: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,628: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,628: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,628: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,629: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,629: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,629: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,629: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,629: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,630: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,630: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,630: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,630: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,630: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,631: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,631: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,632: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,632: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,632: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,632: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,632: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,633: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,633: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,633: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,633: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,634: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,634: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,634: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,635: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,635: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,635: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,636: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,636: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,636: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,636: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,636: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,637: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,637: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,637: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,637: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,638: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,638: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,638: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,639: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,639: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,639: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,639: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,640: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,640: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,641: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,641: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,641: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,641: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,642: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,642: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,643: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,643: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,643: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,644: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,644: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,644: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,644: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,645: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,645: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,646: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,646: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,646: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,647: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,647: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,647: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,647: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,648: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,648: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,648: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,648: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,649: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,649: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,650: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,651: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,651: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,651: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,652: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,652: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,652: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,652: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,653: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,653: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,653: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,655: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,656: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,657: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,658: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,659: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,661: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,661: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,661: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,662: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,662: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,662: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,663: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,664: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,664: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,664: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,665: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,665: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,665: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,666: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,666: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,666: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,666: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,671: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,672: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,672: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,673: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,673: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,673: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,673: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,674: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,674: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,675: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,675: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,675: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,676: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,676: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,676: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,677: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,677: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,677: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,678: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,678: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,678: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,678: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,679: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,680: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,680: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,680: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,681: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,681: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,681: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,682: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,682: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,682: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,683: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,683: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,683: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,683: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,684: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,684: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,685: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,685: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,685: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,685: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,686: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,686: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,686: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,687: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,687: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,687: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,687: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,688: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,688: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,688: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,689: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,689: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,689: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,690: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,691: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,691: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,692: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,692: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,692: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,692: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,693: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,693: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,693: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,694: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,694: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,695: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,695: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,695: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,695: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,696: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,696: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,696: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,696: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,697: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,697: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,697: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,698: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,698: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,699: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,699: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,699: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,699: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,700: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,700: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,700: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,701: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,701: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,701: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,701: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,702: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,702: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,703: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,703: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,703: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,703: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,704: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,704: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,704: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,704: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,704: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,705: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,705: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,705: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,705: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,706: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,706: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,706: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,706: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,707: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,707: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,707: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,707: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,708: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,708: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,708: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,708: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,709: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,709: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,709: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,709: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,710: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,710: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,710: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,710: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,711: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,711: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,711: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,711: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,712: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,712: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,712: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,712: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,712: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,713: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,713: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,713: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,713: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,714: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,714: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,714: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,714: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,714: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,715: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,715: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,715: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,716: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,716: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,716: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,716: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,717: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,717: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,717: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,718: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,718: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,718: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,718: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,719: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,719: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,719: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,719: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,720: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,720: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,720: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,720: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,721: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,721: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,721: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,721: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,722: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,722: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,722: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,722: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,723: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,723: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,723: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,723: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,723: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,724: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,724: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,724: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,724: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,725: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,725: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,725: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,725: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,725: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,726: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,726: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,726: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,727: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,727: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,727: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,727: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,727: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,728: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,728: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,728: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,728: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,728: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,729: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,729: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,729: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,729: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,730: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,730: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,730: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,730: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,731: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,731: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,731: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,731: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,732: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,732: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,732: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,732: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,732: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,733: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,733: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,733: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,734: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,734: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,734: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,735: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,735: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,735: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,735: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,736: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,736: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,736: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,736: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,737: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,737: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,737: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,738: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,738: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,738: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,739: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,739: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,739: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,739: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,739: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,740: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,740: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,740: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,741: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,741: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,741: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,741: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,741: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,742: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,742: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,742: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,742: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,743: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,743: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,743: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,744: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,744: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,744: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,744: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,745: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,745: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,745: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,745: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,745: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,746: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,746: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,746: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,746: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,746: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,747: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,747: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,747: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,747: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,748: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,748: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,748: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,748: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,749: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,749: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,749: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,749: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,750: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,750: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,750: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,751: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,751: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,751: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,751: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,752: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,752: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,752: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,752: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,753: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,753: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,753: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,754: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,754: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,754: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,755: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,755: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,755: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,755: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,755: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,756: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,756: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,756: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,757: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,757: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,757: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,757: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,758: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,758: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,758: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,758: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,759: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,759: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,759: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,759: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,759: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,760: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,760: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,760: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,760: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,760: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,761: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,761: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,761: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,761: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,762: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,762: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,762: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,762: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,763: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,763: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,763: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,763: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,764: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,764: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,764: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,764: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,764: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,765: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,765: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,765: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,765: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,766: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,766: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,767: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,767: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,767: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,768: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,768: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,768: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,768: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,769: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,769: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,769: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,769: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,770: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,770: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,770: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,771: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,771: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,771: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,771: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,772: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,772: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,772: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,772: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,772: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,773: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,773: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,773: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,773: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,774: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,774: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,774: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,774: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,775: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,775: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,775: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,775: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,775: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,776: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,776: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,776: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,776: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,777: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,777: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,777: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,777: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,778: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,778: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,778: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,778: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,778: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,779: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,779: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,779: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,779: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,780: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,780: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,780: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,780: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,780: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,781: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,781: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,781: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,781: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,782: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,782: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,782: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,782: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,783: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,783: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,783: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,784: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,784: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,784: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,785: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,785: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,785: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,785: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,786: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,786: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,786: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,786: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,787: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,787: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,787: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,788: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,788: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,788: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,789: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,789: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,789: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,789: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,789: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,790: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,790: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,790: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,790: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,791: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,791: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,791: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,791: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,792: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,792: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,792: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,792: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,792: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,793: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,793: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,793: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,793: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,794: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,794: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,794: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,794: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,794: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,795: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,795: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,795: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,795: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,796: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,796: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,796: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,796: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,797: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,797: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,797: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,797: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,797: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,798: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,798: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,798: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,798: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,799: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,799: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,799: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,800: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,800: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,801: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,801: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,801: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,802: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,802: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,802: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,802: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,802: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,803: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,803: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,803: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,804: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,804: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,804: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,804: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,805: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,805: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,805: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,805: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,806: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,806: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,806: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,806: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,806: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,807: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,807: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,807: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,807: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,808: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,808: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,808: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,808: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,808: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,809: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,809: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,809: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,809: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,810: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,810: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,810: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,810: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,811: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,811: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,811: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,811: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,811: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,812: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,812: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,812: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,812: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,812: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,813: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,813: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,813: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,813: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,814: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,814: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,814: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,814: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,815: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,815: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,815: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,815: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,816: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,816: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,816: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,816: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,816: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,817: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,817: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,817: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,817: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,818: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,818: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,819: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,819: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,819: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,819: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,819: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,820: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,820: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,820: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,820: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,821: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,821: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,821: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,822: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,822: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,822: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,822: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,823: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,823: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,823: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,823: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,824: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,824: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,824: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,824: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,825: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,826: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,826: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,827: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,827: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,828: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,828: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,828: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,828: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,829: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,829: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,829: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,830: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,830: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,831: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,831: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,832: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,832: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,832: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,832: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,833: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,833: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,833: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,834: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,834: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,835: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,835: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,836: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,836: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,836: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,836: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,837: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,837: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,837: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,838: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,838: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,839: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,839: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,840: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,840: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,840: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,840: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,841: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,841: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,841: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,841: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,841: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,842: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,842: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,842: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,843: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,843: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,843: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,843: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,844: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,844: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,844: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,844: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,844: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,845: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,845: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,845: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,845: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,845: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,846: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,846: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,846: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,847: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,847: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,847: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,847: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,848: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,848: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,848: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,848: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,849: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,849: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,849: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,849: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,849: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,850: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,850: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,851: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,851: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,851: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,851: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,852: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,852: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,852: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,852: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,852: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,853: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,853: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,854: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,854: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,854: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,854: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,855: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,855: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,855: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,855: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,855: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,856: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,856: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,856: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,856: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,857: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,857: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,857: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,857: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,857: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,858: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,858: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,858: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,858: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,859: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,859: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,859: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,859: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,860: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,860: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,860: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,860: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,860: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,861: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,861: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,861: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,861: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,862: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,862: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,862: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,862: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,862: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,863: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,863: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,863: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,864: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,864: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,864: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,864: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,864: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,865: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,865: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,865: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,865: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,866: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,866: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,866: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,867: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,867: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,867: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,867: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,868: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,868: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,868: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,869: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,869: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,869: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,869: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,870: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,870: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,870: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,871: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,871: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,871: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,871: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,872: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,872: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,872: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,872: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,873: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,873: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,873: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,873: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,874: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,874: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,874: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,874: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,874: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,875: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,875: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,875: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,875: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,876: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,876: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,876: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,876: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,877: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,877: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,877: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,877: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,878: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,878: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,878: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,878: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,878: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,879: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,879: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,879: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,879: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,879: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,880: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,880: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,880: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,880: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,881: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,881: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,881: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,881: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,882: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,882: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,882: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,882: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,883: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,883: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,883: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,884: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,884: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,884: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,885: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,885: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,885: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,885: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,886: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,886: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,887: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,887: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,887: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,887: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,888: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,888: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,888: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,888: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,889: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,889: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,889: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,890: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,890: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,890: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,890: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,890: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,891: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,891: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,891: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,891: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,892: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,892: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,892: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,892: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,893: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,893: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,893: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,893: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,893: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,894: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,894: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,894: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,894: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,895: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,895: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,895: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,895: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,896: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,896: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,896: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,896: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,896: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,897: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,897: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,897: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,897: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,898: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,898: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,898: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,898: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,898: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,899: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,899: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,900: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,900: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,900: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,900: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,901: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,901: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,901: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,902: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,902: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,902: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,902: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,903: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,903: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,903: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,904: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,904: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,904: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,905: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,905: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,905: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,905: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,905: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,905: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,906: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,906: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,906: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,906: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,907: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,907: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,907: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,907: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,908: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,908: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,908: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,908: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,909: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,909: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,909: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,909: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,910: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,910: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,910: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,910: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,910: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,911: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,911: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,911: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,911: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,912: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,912: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,912: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,912: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,912: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,913: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,913: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,913: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,913: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,914: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,914: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,914: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,914: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,915: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,915: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,915: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,915: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,915: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,916: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,916: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,917: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,917: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,917: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,917: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,918: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,918: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,918: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,918: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,918: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,919: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,919: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,920: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,920: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,920: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,920: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,920: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,921: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,921: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,921: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,921: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,922: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,922: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,922: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,922: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,922: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,923: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,923: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,923: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,923: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,924: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,924: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,924: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,924: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,925: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,925: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,925: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,925: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,926: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,926: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,926: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,926: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,926: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,927: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,927: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,927: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,927: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,928: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,928: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,928: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,928: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,928: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,929: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,929: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,929: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,929: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,930: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,930: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,930: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,930: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,931: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,931: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,931: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,931: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,931: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,932: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,932: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,932: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,932: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,933: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,933: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,933: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,933: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,934: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,934: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,934: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,935: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,935: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,935: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,935: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,936: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,936: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,936: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,937: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,937: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,937: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,938: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,938: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,938: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,939: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,939: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,939: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,939: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,940: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,940: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,940: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,940: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,940: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,941: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,941: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,941: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,941: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,941: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,942: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,942: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,942: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,942: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,943: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,943: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,943: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,943: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,944: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,944: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,944: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,944: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,945: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,945: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,945: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,945: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,945: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,946: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,946: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,946: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,946: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,947: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,947: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,947: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,947: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,948: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,948: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,948: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,948: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,949: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,949: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,949: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,949: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,949: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,950: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,950: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,950: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,951: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,951: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,952: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,952: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,952: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,952: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,953: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,953: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,953: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,953: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,953: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,954: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,954: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,954: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,955: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,955: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,955: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,955: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,955: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,956: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,956: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,956: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,956: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,956: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,957: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,957: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,957: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,957: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,958: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,958: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,958: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,958: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,959: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,959: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,959: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,959: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,960: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,960: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,960: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,960: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,960: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,961: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,961: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,961: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,962: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,962: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,962: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,962: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,963: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,963: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,963: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,963: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,964: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,964: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,964: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,964: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,964: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,965: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,965: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,965: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,965: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,966: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,966: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,966: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,966: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,967: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,967: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,967: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,968: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,968: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,969: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,969: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,969: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,969: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,970: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,970: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,971: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,972: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,972: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,973: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,973: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,974: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,974: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,974: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,974: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,975: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,975: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,976: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,977: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,977: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,977: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,977: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,978: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,978: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,978: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,978: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,979: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,979: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,980: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,980: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,980: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,981: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,981: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,981: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,981: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,982: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,982: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,983: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,983: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,985: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,987: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,987: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,988: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,988: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,988: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,988: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,989: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,989: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,990: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,990: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,991: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,991: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,991: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,992: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,992: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,993: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,993: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,993: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,993: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,994: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,994: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,994: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,995: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,995: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,996: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,996: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:01,996: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:01,996: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:01,997: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:01,997: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:01,997: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:01,997: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:01,998: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:01,998: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:01,999: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:01,999: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:01,999: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,000: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,000: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,000: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,000: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,001: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,001: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,003: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,004: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,004: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,005: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,005: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,006: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,006: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,006: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,006: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,007: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,007: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,007: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,008: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,008: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,008: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,008: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,009: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,009: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,009: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,009: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,010: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,010: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,010: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,011: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,011: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,012: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,012: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,013: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,013: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,013: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,013: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,014: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,014: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,014: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,015: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,015: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,015: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,015: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,016: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,016: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,016: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,017: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,017: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,017: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,018: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,020: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,020: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,021: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,021: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,021: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,021: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,022: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,022: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,023: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,023: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,023: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,025: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,025: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,025: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,026: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,026: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,026: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,027: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,027: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,027: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,027: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,028: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,029: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,029: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,030: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,030: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,030: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,030: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,031: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,031: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,031: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,031: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,032: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,032: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,032: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,032: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,033: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,033: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,033: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,034: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,034: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,034: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,035: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,035: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,035: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,035: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,035: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,036: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,036: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,036: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,037: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,037: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,037: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,037: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,038: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,038: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,038: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,039: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,039: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,039: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,039: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,040: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,040: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,040: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,040: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,040: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,041: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,041: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,041: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,041: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,042: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,042: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,042: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,042: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,043: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,043: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,043: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,043: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,043: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,044: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,044: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,044: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,044: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,045: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,045: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,045: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,045: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,045: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,046: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,046: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,046: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,046: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,047: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,047: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,047: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,047: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,048: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,048: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,048: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,048: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,048: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,049: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,049: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,050: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,050: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,050: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,050: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,051: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,051: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,051: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,051: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,051: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,052: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,052: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,052: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,052: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,053: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,053: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,053: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,053: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,054: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,054: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,054: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,054: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,055: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,055: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,055: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,055: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,055: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,056: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,056: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,056: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,056: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,057: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,057: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,057: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,058: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,058: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,058: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,058: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,058: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,059: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,059: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,059: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,059: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,059: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,060: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,060: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,060: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,060: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,060: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,061: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,061: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,061: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,061: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,062: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,062: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,062: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,062: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,063: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,063: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,063: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,063: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,063: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,064: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,064: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,064: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,064: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,065: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,065: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,065: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,065: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,065: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,066: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,066: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,066: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,067: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,067: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,067: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,068: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,068: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,068: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,069: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,069: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,069: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,070: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,070: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,070: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,070: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,071: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,071: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,071: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,071: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,072: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,072: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,072: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,072: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,072: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,073: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,073: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,073: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,073: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,074: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,074: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,074: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,074: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,075: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,075: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,075: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,075: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,075: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,076: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,076: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,076: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,076: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,077: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,077: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,077: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,077: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,078: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,078: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,078: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,078: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,079: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,079: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,079: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,079: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,079: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,080: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,080: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,080: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,080: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,081: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,081: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,081: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,082: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,082: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,082: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,082: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,083: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,083: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,083: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,084: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,084: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,084: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,084: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,085: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,085: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,085: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,085: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,086: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,086: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,086: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,087: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,087: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,087: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,087: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,088: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,088: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,088: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,088: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,089: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,089: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,089: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,089: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,089: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,090: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,090: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,090: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,090: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,091: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,091: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,091: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,091: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,091: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,092: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,092: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,092: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,092: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,093: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,093: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,093: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,093: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,094: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,094: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,094: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,094: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,094: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,095: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,095: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,095: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,095: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,096: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,096: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,096: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,096: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,096: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,097: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,097: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,097: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,098: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,098: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,098: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,098: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,098: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,099: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,099: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,099: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,099: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,099: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,100: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,100: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,101: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,101: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,101: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,101: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,102: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,102: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,102: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,103: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,103: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,103: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,103: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,104: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,104: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,104: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,104: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,105: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,105: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,105: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,105: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,105: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,106: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,106: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,106: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,106: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,107: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,107: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,107: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,107: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,107: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,108: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,108: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,108: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,109: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,109: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,109: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,109: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,109: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,110: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,110: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,110: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,110: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,111: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,111: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,111: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,112: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,112: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,112: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,112: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,113: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,113: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,113: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,113: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,113: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,114: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,114: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,114: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,114: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,115: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,115: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,115: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,115: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,115: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,116: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,116: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,116: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,117: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,117: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,117: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,118: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,118: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,118: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,118: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,118: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,119: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,119: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,120: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,120: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,121: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,121: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,121: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,121: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,122: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,122: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,122: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,122: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,122: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,123: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,123: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,123: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,123: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,124: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,124: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,124: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,124: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,124: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,125: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,125: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,125: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,125: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,126: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,126: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,126: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,126: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,127: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,127: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,127: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,127: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,127: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,128: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,128: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,129: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,129: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,129: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:32:02,129: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:32:02,129: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:32:02,130: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:32:02,130: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:32:02,130: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:32:02,130: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:32:02,130: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:32:02,131: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:32:02,131: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:32:02,131: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:32:02,131: root: INFO: FreshTrading : Executing the on_abrupt_closing event method
2023-06-01 20:32:02,131: root: INFO: Trading finished
2023-06-01 20:32:02,132: root: INFO: Current backtesting datetime 2020-01-02 15:55:00-05:00
2023-06-01 20:32:02,133: root: INFO: Current backtesting datetime 2020-01-02 16:00:00-05:00
2023-06-01 20:32:02,133: backtest_stats: INFO: Backtest took 0:00:05.248135 for a speed of 0.000
2023-06-01 20:32:02,133: root: WARNING: Cannot plot returns because the strategy returns are missing
2023-06-01 20:32:02,133: root: WARNING: Cannot create a tearsheet because the strategy returns are missing
