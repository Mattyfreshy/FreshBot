2023-06-01 20:34:06,548: root: INFO: FreshTrading : Executing the initialize lifecycle method
2023-06-01 20:34:07,184: root: INFO: Current backtesting datetime 2020-01-02 08:30:00-05:00
2023-06-01 20:34:07,185: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,185: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,185: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,185: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,186: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,191: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,192: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,192: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,192: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,192: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,193: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,193: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,193: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,193: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,194: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,194: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,194: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,194: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,195: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,195: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,195: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,195: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,196: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,196: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,196: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,196: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,197: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,197: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,197: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,197: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,198: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,198: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,198: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,199: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,199: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,199: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,200: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,200: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,200: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,201: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,201: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,201: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,201: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,201: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,202: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,202: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,202: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,203: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,203: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,204: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,204: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,204: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,205: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,205: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,205: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,205: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,206: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,206: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,206: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,206: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,207: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,207: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,207: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,208: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,208: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,208: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,208: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,209: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,209: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,209: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,209: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,210: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,210: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,210: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,210: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,210: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,211: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,211: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,211: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,212: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,212: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,212: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,213: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,213: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,213: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,213: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,213: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,214: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,214: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,214: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,214: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,214: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,215: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,215: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,215: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,215: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,216: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,216: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,216: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,217: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,217: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,217: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,217: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,217: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,218: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,218: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,218: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,219: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,219: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,219: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,220: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,220: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,220: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,221: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,221: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,222: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,222: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,222: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,222: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,222: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,223: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,223: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,223: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,223: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,224: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,224: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,224: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,225: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,225: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,225: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,225: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,225: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,226: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,226: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,226: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,227: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,227: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,227: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,227: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,227: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,228: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,228: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,228: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,229: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,229: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,229: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,229: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,229: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,230: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,230: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,230: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,231: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,231: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,231: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,231: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,232: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,232: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,232: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,232: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,233: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,233: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,233: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,233: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,234: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,234: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,234: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,235: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,235: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,235: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,235: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,236: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,236: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,236: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,237: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,237: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,238: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,238: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,238: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,238: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,239: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,239: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,239: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,240: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,240: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,240: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,240: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,241: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,241: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,241: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,241: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,242: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,242: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,242: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,243: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,243: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,243: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,243: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,244: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,244: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,244: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,244: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,245: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,245: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,245: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,245: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,245: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,246: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,246: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,246: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,247: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,247: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,247: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,247: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,247: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,248: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,248: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,248: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,249: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,249: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,250: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,250: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,251: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,251: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,251: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,251: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,252: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,252: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,252: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,252: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,252: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,253: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,253: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,254: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,254: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,254: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,254: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,255: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,255: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,255: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,255: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,255: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,256: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,256: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,256: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,256: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,257: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,257: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,257: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,257: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,258: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,258: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,258: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,258: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,259: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,259: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,259: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,259: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,259: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,260: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,260: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,260: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,261: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,261: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,261: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,261: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,262: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,262: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,262: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,262: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,263: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,263: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,263: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,263: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,263: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,264: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,264: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,264: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,264: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,265: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,265: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,266: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,266: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,266: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,266: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,266: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,267: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,267: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,268: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,268: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,268: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,268: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,269: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,269: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,269: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,270: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,270: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,270: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,270: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,271: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,271: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,271: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,271: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,272: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,272: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,272: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,272: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,273: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,273: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,273: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,274: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,274: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,274: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,274: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,275: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,275: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,275: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,275: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,275: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,276: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,276: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,276: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,276: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,277: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,277: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,277: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,277: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,278: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,278: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,278: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,278: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,279: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,279: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,279: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,279: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,279: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,280: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,280: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,280: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,281: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,281: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,281: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,281: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,282: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,282: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,282: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,282: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,283: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,283: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,283: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,284: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,284: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,285: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,285: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,285: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,285: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,286: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,286: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,286: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,286: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,287: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,287: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,287: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,288: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,288: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,289: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,290: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,292: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,292: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,295: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,295: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,296: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,297: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,297: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,298: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,298: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,298: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,298: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,299: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,299: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,300: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,300: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,302: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,302: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,302: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,303: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,303: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,304: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,304: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,304: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,304: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,305: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,305: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,306: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,307: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,307: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,308: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,309: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,310: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,310: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,311: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,311: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,311: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,312: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,312: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,314: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,314: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,314: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,314: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,315: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,315: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,315: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,316: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,316: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,316: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,317: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,317: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,318: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,318: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,318: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,319: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,319: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,319: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,319: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,320: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,320: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,321: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,322: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,322: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,322: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,322: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,323: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,323: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,323: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,324: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,324: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,324: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,325: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,327: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,327: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,327: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,327: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,328: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,328: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,328: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,328: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,329: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,329: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,329: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,330: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,330: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,331: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,331: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,332: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,332: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,333: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,333: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,333: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,334: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,334: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,334: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,334: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,335: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,335: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,336: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,336: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,336: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,336: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,337: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,337: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,337: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,338: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,338: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,338: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,339: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,339: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,339: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,340: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,340: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,341: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,341: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,341: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,342: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,342: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,342: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,343: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,343: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,343: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,344: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,344: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,344: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,345: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,345: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,345: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,345: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,346: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,346: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,347: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,347: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,347: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,347: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,348: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,348: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,348: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,349: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,349: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,350: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,350: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,351: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,351: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,353: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,353: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,354: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,354: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,354: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,356: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,356: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,356: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,356: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,357: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,357: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,357: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,357: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,358: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,358: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,358: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,359: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,359: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,359: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,359: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,360: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,360: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,360: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,360: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,361: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,361: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,361: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,361: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,361: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,362: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,362: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,363: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,363: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,363: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,363: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,364: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,364: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,364: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,364: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,364: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,365: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,365: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,365: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,365: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,366: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,366: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,367: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,367: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,367: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,368: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,368: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,368: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,368: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,369: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,369: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,369: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,369: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,370: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,370: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,370: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,371: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,371: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,371: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,371: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,372: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,372: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,372: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,372: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,373: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,373: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,373: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,373: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,373: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,374: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,374: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,374: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,374: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,375: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,375: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,375: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,375: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,375: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,376: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,376: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,376: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,377: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,377: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,377: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,377: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,377: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,378: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,378: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,378: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,379: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,379: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,379: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,379: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,380: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,380: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,380: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,380: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,381: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,381: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,381: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,381: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,381: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,382: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,382: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,382: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,382: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,383: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,383: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,384: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,384: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,384: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,385: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,385: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,385: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,385: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,386: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,386: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,386: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,386: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,387: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,387: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,387: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,388: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,388: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,388: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,389: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,389: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,389: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,389: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,390: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,391: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,391: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,391: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,391: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,391: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,392: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,392: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,392: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,392: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,393: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,393: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,393: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,394: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,394: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,394: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,394: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,395: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,395: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,395: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,395: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,396: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,396: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,396: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,397: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,397: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,397: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,397: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,398: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,398: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,398: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,398: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,399: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,399: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,400: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,400: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,400: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,401: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,401: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,401: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,402: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,402: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,402: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,403: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,403: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,403: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,403: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,404: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,404: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,404: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,404: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,405: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,405: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,405: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,405: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,406: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,406: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,406: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,406: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,407: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,407: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,407: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,407: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,408: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,408: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,408: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,408: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,409: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,409: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,409: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,409: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,410: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,410: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,410: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,411: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,411: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,411: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,411: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,412: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,412: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,412: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,412: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,412: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,413: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,413: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,413: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,413: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,414: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,414: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,414: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,414: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,415: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,415: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,415: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,415: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,416: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,416: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,416: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,417: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,417: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,417: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,417: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,417: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,418: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,418: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,418: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,419: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,419: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,419: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,420: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,420: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,421: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,421: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,421: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,421: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,421: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,422: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,422: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,422: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,422: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,423: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,423: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,423: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,423: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,424: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,424: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,424: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,424: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,425: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,425: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,425: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,425: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,425: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,426: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,426: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,426: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,427: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,427: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,427: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,427: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,428: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,428: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,428: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,428: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,429: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,429: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,429: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,429: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,429: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,430: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,430: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,430: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,430: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,431: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,431: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,431: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,431: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,432: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,432: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,432: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,432: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,433: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,433: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,433: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,433: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,434: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,434: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,434: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,434: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,435: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,435: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,435: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,436: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,436: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,436: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,437: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,437: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,437: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,438: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,438: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,438: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,438: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,438: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,439: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,439: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,439: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,439: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,440: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,440: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,440: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,441: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,441: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,441: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,441: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,442: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,442: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,442: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,442: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,443: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,443: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,443: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,443: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,444: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,444: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,444: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,445: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,445: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,445: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,445: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,445: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,446: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,446: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,446: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,447: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,447: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,447: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,447: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,448: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,448: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,448: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,448: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,449: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,449: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,449: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,449: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,450: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,450: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,450: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,451: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,451: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,451: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,451: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,452: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,452: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,452: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,453: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,453: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,453: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,454: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,454: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,454: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,455: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,455: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,455: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,455: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,456: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,456: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,456: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,456: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,457: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,457: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,457: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,457: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,457: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,458: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,458: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,458: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,459: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,459: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,459: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,459: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,460: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,460: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,460: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,460: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,461: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,461: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,461: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,461: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,462: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,462: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,462: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,463: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,463: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,463: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,463: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,464: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,464: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,464: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,464: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,464: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,465: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,465: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,465: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,465: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,466: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,466: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,466: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,467: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,467: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,467: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,468: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,468: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,468: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,469: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,469: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,469: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,469: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,470: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,470: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,470: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,470: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,470: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,471: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,471: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,471: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,471: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,472: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,472: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,472: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,472: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,473: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,473: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,473: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,473: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,474: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,474: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,474: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,474: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,474: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,475: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,475: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,475: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,476: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,476: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,476: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,477: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,477: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,477: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,477: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,478: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,478: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,478: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,478: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,478: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,479: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,479: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,479: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,479: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,480: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,480: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,480: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,481: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,481: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,481: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,481: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,481: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,482: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,482: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,482: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,482: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,483: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,483: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,483: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,483: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,484: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,484: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,485: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,485: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,486: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,486: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,486: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,486: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,487: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,487: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,487: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,487: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,487: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,488: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,488: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,488: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,489: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,489: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,489: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,490: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,490: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,490: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,490: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,490: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,491: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,491: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,491: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,491: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,492: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,492: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,492: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,492: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,493: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,493: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,493: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,493: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,494: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,494: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,494: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,494: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,494: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,495: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,495: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,495: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,496: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,496: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,496: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,496: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,497: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,497: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,497: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,497: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,498: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,498: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,498: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,498: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,498: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,499: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,499: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,499: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,499: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,500: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,500: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,501: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,501: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,501: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,501: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,502: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,502: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,502: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,503: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,503: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,503: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,503: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,504: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,504: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,504: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,504: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,504: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,505: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,505: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,505: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,505: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,506: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,506: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,506: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,507: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,507: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,507: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,507: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,507: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,508: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,508: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,508: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,508: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,509: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,509: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,509: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,509: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,510: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,510: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,510: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,510: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,511: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,511: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,511: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,511: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,512: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,512: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,512: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,512: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,512: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,513: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,513: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,513: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,513: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,514: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,514: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,514: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,515: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,515: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,515: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,515: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,516: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,516: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,516: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,516: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,517: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,517: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,517: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,517: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,518: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,518: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,518: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,519: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,519: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,520: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,520: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,520: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,520: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,521: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,521: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,521: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,521: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,521: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,522: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,522: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,523: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,523: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,523: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,523: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,524: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,524: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,524: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,524: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,524: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,525: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,525: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,525: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,525: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,526: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,526: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,526: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,526: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,527: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,527: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,527: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,527: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,528: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,528: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,528: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,528: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,528: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,529: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,529: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,529: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,530: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,530: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,530: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,530: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,531: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,531: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,531: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,531: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,532: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,532: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,532: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,532: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,532: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,533: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,533: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,533: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,533: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,534: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,534: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,535: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,535: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,535: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,536: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,536: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,536: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,536: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,537: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,537: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,537: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,537: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,538: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,538: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,538: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,538: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,539: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,539: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,539: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,539: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,540: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,540: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,540: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,541: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,541: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,541: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,541: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,541: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,542: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,542: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,542: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,542: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,543: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,543: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,543: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,543: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,544: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,544: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,544: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,544: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,545: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,545: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,545: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,545: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,545: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,546: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,546: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,546: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,547: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,547: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,547: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,547: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,548: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,548: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,548: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,548: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,549: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,549: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,549: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,549: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,549: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,550: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,550: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,550: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,550: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,551: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,551: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,552: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,552: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,552: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,552: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,552: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,553: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,553: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,554: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,554: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,554: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,555: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,555: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,555: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,555: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,556: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,556: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,556: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,557: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,557: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,557: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,557: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,557: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,558: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,558: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,558: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,559: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,559: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,559: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,559: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,560: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,560: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,560: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,560: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,561: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,561: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,561: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,561: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,561: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,562: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,562: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,562: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,562: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,563: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,563: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,563: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,564: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,564: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,564: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,564: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,564: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,565: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,565: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,565: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,565: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,566: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,566: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,566: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,567: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,567: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,567: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,568: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,568: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,568: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,569: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,569: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,569: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,570: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,570: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,570: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,570: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,570: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,571: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,571: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,571: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,571: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,572: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,572: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,572: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,572: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,573: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,573: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,573: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,573: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,574: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,574: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,574: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,574: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,574: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,575: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,575: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,575: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,576: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,576: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,576: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,577: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,577: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,577: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,577: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,577: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,578: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,578: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,579: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,579: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,579: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,579: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,580: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,580: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,580: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,580: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,581: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,581: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,581: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,581: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,581: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,582: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,582: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,582: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,582: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,583: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,583: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,583: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,583: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,584: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,584: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,584: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,585: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,585: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,586: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,586: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,586: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,586: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,587: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,587: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,587: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,587: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,587: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,588: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,588: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,589: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,589: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,589: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,589: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,590: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,590: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,590: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,590: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,590: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,591: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,591: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,591: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,591: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,592: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,592: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,592: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,592: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,592: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,593: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,593: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,593: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,593: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,594: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,594: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,594: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,594: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,595: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,595: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,595: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,595: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,596: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,596: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,596: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,597: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,597: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,597: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,597: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,598: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,598: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,598: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,598: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,598: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,599: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,599: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,599: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,599: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,600: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,600: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,600: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,600: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,601: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,601: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,601: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,601: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,602: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,603: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,603: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,603: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,603: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,604: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,604: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,604: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,605: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,605: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,605: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,605: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,606: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,606: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,606: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,606: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,607: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,607: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,607: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,607: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,608: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,608: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,608: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,609: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,609: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,609: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,609: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,610: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,610: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,610: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,610: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,610: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,611: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,611: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,611: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,611: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,612: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,612: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,612: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,612: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,613: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,613: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,613: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,613: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,614: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,614: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,614: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,614: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,614: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,615: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,615: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,615: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,616: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,616: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,616: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,616: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,617: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,617: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,617: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,618: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,618: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,618: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,619: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,619: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,619: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,620: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,620: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,620: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,620: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,621: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,621: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,621: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,621: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,622: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,622: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,622: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,622: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,623: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,623: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,623: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,624: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,624: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,624: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,624: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,624: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,625: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,625: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,625: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,625: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,626: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,626: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,626: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,626: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,627: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,627: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,627: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,627: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,627: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,628: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,628: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,628: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,628: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,629: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,629: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,629: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,629: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,630: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,630: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,630: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,630: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,631: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,631: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,631: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,631: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,632: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,632: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,632: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,632: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,633: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,633: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,634: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,634: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,634: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,634: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,635: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,635: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,636: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,636: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,636: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,637: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,637: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,637: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,637: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,638: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,638: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,638: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,638: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,639: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,639: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,639: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,640: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,640: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,640: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,640: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,641: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,641: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,641: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,641: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,642: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,642: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,642: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,642: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,642: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,643: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,643: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,643: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,643: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,644: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,644: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,644: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,644: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,645: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,645: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,645: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,645: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,646: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,646: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,646: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,646: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,646: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,647: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,647: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,647: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,648: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,648: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,648: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,648: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,649: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,649: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,649: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,649: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,650: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,650: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,650: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,651: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,651: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,651: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,651: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,652: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,652: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,652: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,653: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,653: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,653: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,653: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,654: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,654: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,654: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,655: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,655: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,655: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,655: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,656: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,656: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,656: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,656: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,657: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,657: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,657: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,658: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,658: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,658: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,658: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,658: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,659: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,659: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,659: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,660: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,660: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,660: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,660: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,661: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,661: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,661: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,661: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,662: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,662: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,667: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,668: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,668: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,669: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,669: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,670: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,670: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,670: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,670: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,671: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,671: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,671: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,673: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,674: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,674: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,674: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,675: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,675: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,675: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,675: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,676: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,676: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,677: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,677: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,677: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,678: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,678: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,679: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,679: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,679: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,679: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,680: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,680: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,682: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,685: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,685: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,685: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,686: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,686: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,686: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,687: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,687: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,687: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,688: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,691: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,693: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,693: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,693: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,694: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,694: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,694: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,695: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,695: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,695: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,696: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,703: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,704: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,704: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,704: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,704: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,705: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,705: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,705: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,706: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,706: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,707: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,707: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,707: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,707: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,708: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,708: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,709: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,709: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,709: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,709: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,710: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,710: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,711: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,712: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,712: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,712: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,713: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,714: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,714: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,714: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,714: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,715: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,715: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,716: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,718: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,719: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,720: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,720: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,721: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,721: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,722: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,722: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,723: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,723: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,723: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,724: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,724: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,724: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,724: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,725: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,725: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,725: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,725: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,726: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,726: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,726: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,727: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,727: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,727: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,727: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,728: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,728: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,728: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,728: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,729: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,729: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,729: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,729: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,730: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,730: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,730: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,731: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,731: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,731: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,731: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,732: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,732: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,732: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,733: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,733: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,733: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,733: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,734: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,734: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,734: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,735: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,735: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,735: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,735: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,736: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,736: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,736: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,737: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,737: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,737: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,738: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,738: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,738: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,738: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,738: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,739: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,739: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,739: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,740: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,740: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,740: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,740: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,740: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,741: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,741: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,741: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,742: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,742: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,742: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,742: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,743: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,743: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,743: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,743: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,744: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,744: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,744: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,744: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,745: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,745: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,745: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,746: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,746: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,746: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,746: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,747: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,747: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,747: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,747: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,747: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,748: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,748: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,748: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,748: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,749: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,749: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,750: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,750: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,750: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,751: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,751: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,751: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,752: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,752: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,752: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,753: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,753: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,753: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,753: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,754: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,754: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,754: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,754: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,755: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,755: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,755: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,756: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,756: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,756: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,756: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,756: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,757: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,757: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,757: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,758: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,758: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,758: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,759: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,759: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,759: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,759: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,759: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,760: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,760: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,760: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,761: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,761: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,761: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,761: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,762: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,762: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,762: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,762: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,763: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,763: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,763: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,763: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,764: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,764: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,764: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,764: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,765: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,765: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,765: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,766: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,766: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,766: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,767: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,767: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,767: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,767: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,768: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,768: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,768: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,768: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,769: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,769: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,769: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,770: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,770: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,770: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,770: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,771: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,771: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,771: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,771: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,772: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,772: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,772: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,772: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,773: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,773: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,773: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,773: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,774: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,774: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,774: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,774: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,775: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,775: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,775: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,776: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,776: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,776: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,776: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,776: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,777: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,777: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,777: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,777: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,778: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,778: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,778: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,778: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,779: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,779: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,779: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,779: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,780: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,780: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,780: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,780: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,781: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,781: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,781: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,781: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,781: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,782: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,782: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,782: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,783: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,783: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,783: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,784: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,784: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,784: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,785: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,785: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,785: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,786: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,786: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,786: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,786: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,787: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,787: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,787: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,787: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,788: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,788: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,788: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,789: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,789: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,789: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,789: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,789: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,790: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,790: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,790: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,790: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,791: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,791: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,791: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,791: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,792: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,792: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,792: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,792: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,793: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,793: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,793: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,793: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,794: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,794: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,794: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,794: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,794: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,795: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,795: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,795: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,795: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,796: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,796: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,796: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,796: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,797: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,797: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,797: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,797: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,798: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,798: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,798: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,798: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,799: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,799: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,799: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,799: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,800: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,800: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,800: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,801: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,801: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,802: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,802: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,802: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,803: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,803: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,803: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,803: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,804: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,804: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,804: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,805: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,805: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,805: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,805: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,806: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,806: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,806: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,806: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,806: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,807: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,807: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,807: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,807: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,808: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,808: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,808: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,808: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,808: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,809: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,809: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,809: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,810: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,810: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,810: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,810: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,810: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,811: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,811: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,811: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,812: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,812: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,812: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,812: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,813: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,813: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,813: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,813: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,814: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,814: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,814: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,814: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,814: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,815: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,815: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,815: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,815: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,816: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,816: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,817: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,817: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,817: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,818: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,818: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,818: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,818: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,819: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,819: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,819: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,820: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,821: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,821: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,821: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,822: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,822: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,823: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,823: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,824: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,824: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,824: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,824: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,825: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,825: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,825: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,826: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,826: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,826: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,827: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,827: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,827: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,828: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,828: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,829: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,829: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,829: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,830: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,830: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,830: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,830: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,831: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,831: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,831: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,832: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,832: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,832: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,833: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,833: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,833: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,834: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,834: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,835: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,835: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,836: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,836: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,837: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,837: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,837: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,837: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,837: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,838: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,838: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,839: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,839: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,839: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,839: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,840: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,840: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,840: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,840: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,840: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,841: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,841: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,841: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,841: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,842: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,842: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,842: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,842: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,842: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,843: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,843: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,843: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,844: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,844: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,844: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,844: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,844: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,845: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,845: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,845: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,846: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,846: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,846: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,846: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,847: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,847: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,847: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,847: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,848: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,848: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,848: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,848: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,848: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,849: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,849: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,850: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,850: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,850: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,850: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,851: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,851: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,851: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,851: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,851: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,852: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,852: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,853: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,853: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,854: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,854: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,854: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,854: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,855: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,855: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,855: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,855: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,856: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,856: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,856: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,856: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,856: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,857: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,857: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,857: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,858: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,858: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,858: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,858: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,859: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,859: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,859: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,859: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,860: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,860: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,860: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,861: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,861: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,861: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,861: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,862: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,862: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,862: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,862: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,863: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,863: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,863: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,863: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,863: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,864: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,864: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,864: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,864: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,865: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,865: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,866: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,866: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,866: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,866: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,866: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,867: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,867: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,867: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,868: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,868: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,868: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,869: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,869: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,869: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,870: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,870: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,870: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,871: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,871: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,871: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,872: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,872: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,872: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,872: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,873: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,873: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,873: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,873: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,874: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,874: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,874: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,874: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,875: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,875: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,875: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,875: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,876: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,876: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,876: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,876: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,877: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,877: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,877: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,877: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,878: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,878: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,878: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,879: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,879: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,879: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,879: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,880: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,880: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,880: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,880: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,881: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,881: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,881: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,881: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,881: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,882: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,882: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,882: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,882: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,883: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,883: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,883: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,884: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,884: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,885: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,885: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,885: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,886: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,886: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,886: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,886: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,887: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,887: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,887: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,887: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,888: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,888: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,888: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,888: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,889: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,889: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,889: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,889: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,890: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,890: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,890: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,890: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,891: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,891: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,891: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,892: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,892: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,892: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,892: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,893: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,893: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,893: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,893: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,893: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,893: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,894: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,894: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,894: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,894: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,895: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,895: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,895: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,895: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,896: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,896: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,896: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,896: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,897: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,897: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,897: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,897: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,898: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,898: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,898: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,898: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,898: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,899: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,899: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,899: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,900: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,900: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,900: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,901: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,901: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,901: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,901: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,901: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,902: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,902: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,903: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,903: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,903: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,903: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,904: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,904: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,904: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,905: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,905: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,905: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,905: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,906: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,906: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,906: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,906: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,907: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,907: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,907: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,907: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,907: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,908: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,908: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,908: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,908: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,909: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,909: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,909: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,910: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,910: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,910: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,910: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,911: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,911: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,911: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,911: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,912: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,912: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,912: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,912: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,912: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,913: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,913: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,913: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,913: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,914: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,914: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,914: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,914: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,915: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,915: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,915: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,916: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,916: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,916: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,916: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,917: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,917: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,917: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,917: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,918: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,918: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,918: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,919: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,919: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,919: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,920: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,920: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,920: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,921: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,921: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,921: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,921: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,922: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,922: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,922: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,922: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,923: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,923: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,923: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,924: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,924: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,924: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,924: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,924: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,925: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,925: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,925: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,925: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,926: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,926: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,926: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,926: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,927: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,927: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,927: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,927: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,927: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,928: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,928: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,928: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,928: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,929: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,929: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,929: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,929: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,930: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,930: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,930: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,931: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,931: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,931: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,931: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,932: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,932: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,932: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,932: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,932: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,933: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,933: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,934: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,934: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,934: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,934: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,935: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,935: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,936: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,936: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,936: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,936: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,936: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,937: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,937: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,937: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,937: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,938: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,938: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,939: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,939: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,939: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,939: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,939: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,940: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,940: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,940: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,940: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,941: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,941: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,941: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,941: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,941: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,942: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,942: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,942: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,942: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,943: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,943: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,943: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,943: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,944: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,944: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,944: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,944: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,945: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,945: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,945: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,945: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,946: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,946: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,946: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,947: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,947: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,947: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,947: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,947: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,947: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,948: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,948: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,948: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,949: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,949: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,949: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,950: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,950: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,950: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,951: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,951: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,951: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,952: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,952: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,952: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,952: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,953: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,953: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,953: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,953: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,953: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,954: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,954: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,954: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,954: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,955: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,955: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,955: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,955: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,956: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,956: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,956: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,956: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,957: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,957: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,957: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,957: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,958: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,958: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,958: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,958: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,959: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,959: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,959: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,959: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,960: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,960: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,960: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,960: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,961: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,961: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,961: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,961: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,961: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,962: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,962: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,962: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,962: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,963: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,963: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,963: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,964: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,964: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,964: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,964: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,965: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,965: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,965: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,965: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,965: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,966: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,966: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,966: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,967: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,967: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,967: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,968: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,968: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,969: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,969: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,969: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,969: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,970: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,970: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,970: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,971: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,971: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,971: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,971: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,972: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,972: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,972: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,972: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,973: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,973: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,973: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,974: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,974: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,974: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,974: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,975: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,975: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,975: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,975: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,976: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,976: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,976: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,976: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,976: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,977: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,977: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,977: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,977: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,978: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,978: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,978: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,978: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,978: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,979: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,979: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,979: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,979: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,980: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,980: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,980: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,980: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,981: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,981: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,981: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,981: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,982: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,982: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,982: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,983: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,983: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,983: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,983: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,984: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,984: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,984: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,984: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,984: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,985: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,985: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,986: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,986: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,986: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,986: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,987: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,987: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,987: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,988: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,988: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,988: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,988: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,989: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,989: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,989: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,989: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,990: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,990: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,990: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,991: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,991: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,991: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,991: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,992: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,992: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,992: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,992: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,993: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,993: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,993: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,993: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,993: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,994: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,994: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,994: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,994: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,995: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,995: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,995: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,995: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,996: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,996: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,996: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,996: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:07,997: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:07,997: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:07,997: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:07,998: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:07,998: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:07,998: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:07,998: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:07,998: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:07,999: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:07,999: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:07,999: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,000: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,000: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,000: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,000: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,001: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,001: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,001: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,002: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,002: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,002: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,003: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,003: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,004: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,004: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,004: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,004: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,005: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,005: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,005: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,005: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,005: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,006: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,006: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,007: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,007: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,007: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,007: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,008: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,008: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,008: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,008: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,008: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,009: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,009: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,009: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,009: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,010: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,010: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,010: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,010: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,011: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,011: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,011: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,011: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,012: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,012: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,012: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,012: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,012: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,013: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,013: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,013: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,014: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,014: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,014: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,014: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,015: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,015: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,015: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,015: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,016: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,016: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,016: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,016: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,016: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,017: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,017: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,018: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,018: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,018: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,018: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,019: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,019: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,019: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,020: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,020: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,020: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,021: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,021: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,021: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,021: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,021: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,022: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,022: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,022: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,023: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,023: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,023: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,023: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,024: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,024: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,024: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,024: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,025: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,025: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,025: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,025: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,025: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,026: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,026: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,026: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,026: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,027: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,027: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,027: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,027: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,027: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,028: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,028: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,028: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,028: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,029: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,029: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,029: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,029: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,030: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,030: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,030: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,030: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,030: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,031: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,031: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,032: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,032: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,032: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,032: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,033: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,033: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,033: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,034: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,034: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,034: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,035: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,035: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,035: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,036: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,036: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,037: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,037: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,039: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,040: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,040: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,040: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,041: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,041: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,041: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,042: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,042: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,042: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,043: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,043: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,045: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,045: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,045: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,046: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,046: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,046: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,047: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,047: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,050: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,050: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,052: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,053: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,053: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,054: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,054: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,055: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,055: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,056: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,056: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,057: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,057: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,058: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,059: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,059: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,060: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,060: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,060: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,060: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,061: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,061: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,061: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,062: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,064: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,064: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,064: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,065: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,065: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,066: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,066: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,066: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,066: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,067: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,067: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,068: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,069: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,069: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,070: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,070: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,071: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,071: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,071: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,072: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,073: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,073: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,074: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,075: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,075: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,075: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,075: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,076: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,076: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,076: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,077: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,077: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,078: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,078: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,079: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,079: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,079: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,080: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,080: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,080: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,081: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,081: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,081: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,082: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,082: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,082: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,082: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,083: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,083: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,084: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,084: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,084: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,084: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,085: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,085: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,086: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,089: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,089: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,090: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,090: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,090: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,090: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,091: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,091: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,092: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,092: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,093: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,094: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,094: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,094: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,094: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,095: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,095: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,095: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,096: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,096: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,096: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,097: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,098: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,098: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,098: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,099: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,099: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,099: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,100: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,100: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,100: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,100: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,101: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,101: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,101: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,102: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,102: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,103: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,103: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,103: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,103: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,104: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,104: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,104: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,105: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,105: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,105: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,105: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,106: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,106: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,106: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,106: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,107: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,107: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,107: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,108: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,108: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,108: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,108: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,109: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,109: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,109: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,109: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,110: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,110: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,110: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,110: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,110: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,111: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,111: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,111: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,111: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,112: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,112: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,113: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,113: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,113: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,113: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,113: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,114: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,114: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,114: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,114: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,115: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,115: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,115: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,116: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,116: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,116: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,116: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,117: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,117: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,118: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,118: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,118: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,118: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,119: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,119: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,119: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,120: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,120: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,120: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,120: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,121: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,121: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,121: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,121: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,122: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,122: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,122: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,122: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,122: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,123: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,123: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,124: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,124: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,124: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,124: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,125: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,125: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,125: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,125: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,125: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,126: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,126: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,126: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,126: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,127: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,127: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,127: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,127: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,127: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,128: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,128: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,128: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,129: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,129: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,129: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,129: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,130: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,130: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,130: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,130: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,131: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,131: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,131: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,131: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,132: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,132: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,132: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,133: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,133: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,134: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,134: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,134: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,134: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,135: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,135: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,135: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,135: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,136: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,136: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,137: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,137: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,137: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,137: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,137: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,138: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,138: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,138: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,138: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,139: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,139: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,139: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,139: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,140: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,140: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,140: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,140: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,141: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,141: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,141: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,141: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,142: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,142: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,142: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,142: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,143: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,143: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,143: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,143: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,144: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,144: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,144: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,144: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,145: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,145: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,145: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,146: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,146: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,146: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,146: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,147: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,147: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,147: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,147: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,148: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,148: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,148: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,148: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,148: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,149: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,149: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,150: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,150: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,150: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,150: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,151: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,151: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,151: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,151: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,152: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,152: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,152: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,153: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,153: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,153: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,154: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,154: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,154: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,154: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,155: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,155: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,155: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,156: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,156: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,156: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,156: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,157: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,157: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,157: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,157: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,158: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,158: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,158: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,158: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,159: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,159: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,159: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,159: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,160: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,160: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,160: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,161: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,161: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,161: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,161: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,162: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,162: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,162: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,162: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,163: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,163: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,163: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,163: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,163: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,164: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,164: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,165: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,165: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,165: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,165: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,166: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,166: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,166: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,167: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,167: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,167: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,167: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,168: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,168: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,168: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,168: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,169: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,170: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,170: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,170: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,171: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,171: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,171: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,172: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,172: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,172: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,172: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,173: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,173: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,173: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,173: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,173: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,174: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,174: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,174: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,175: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,175: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,175: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,176: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,176: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,176: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,176: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,176: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,177: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,177: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,177: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,177: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,178: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,178: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,178: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,179: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,179: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,179: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,179: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,180: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,180: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,180: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,180: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,181: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,181: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,181: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,181: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,181: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,182: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,182: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,182: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,183: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,183: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,184: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,184: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,184: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,185: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,185: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,185: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,185: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,185: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,186: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,186: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,187: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,187: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,187: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,187: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,188: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,188: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,188: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,188: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,188: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,189: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,189: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,189: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,190: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,190: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,190: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,190: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,191: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,191: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,191: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,191: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,191: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,192: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,192: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,192: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,192: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,193: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,193: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,193: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,193: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,194: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,194: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,194: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,194: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,195: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,195: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,195: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,195: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,196: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,196: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,196: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,196: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,196: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,197: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,197: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,197: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,197: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,198: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,198: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,198: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,199: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,199: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,199: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,199: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,200: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,200: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,200: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,200: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,201: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,201: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,202: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,202: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,202: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,203: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,203: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,203: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,203: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,204: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,204: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,204: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,204: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,205: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,205: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,205: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,205: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,205: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,206: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,206: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,206: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,206: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,207: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,207: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,207: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,208: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,208: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,208: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,208: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,209: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,209: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,209: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,209: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,210: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,210: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,210: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,210: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,210: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,211: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,211: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,211: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,211: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,212: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,212: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,212: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,212: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,213: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,213: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,213: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,214: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,214: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,214: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,214: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,215: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,215: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,215: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,215: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,216: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,216: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,216: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,217: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,217: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,217: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,218: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,218: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,218: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,218: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,218: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,219: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,219: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,219: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,220: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,220: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,220: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,220: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,221: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,221: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,221: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,221: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,222: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,222: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,222: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,223: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,223: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,223: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,223: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,224: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,224: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,224: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,224: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,225: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,225: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,225: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,225: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,226: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,226: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,226: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,227: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,227: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,227: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,227: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,228: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,228: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,228: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,228: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,228: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,229: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,229: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,229: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,229: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,229: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,230: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,230: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,230: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,230: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,231: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,231: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,231: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,231: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,232: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,232: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,232: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,232: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,233: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,233: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,233: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,234: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,234: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,234: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,234: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,235: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,235: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,236: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,236: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,236: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,237: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,237: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,237: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,237: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,238: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,238: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,238: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,238: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,239: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,239: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,239: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,239: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,240: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,240: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,240: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,240: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,241: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,241: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,241: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,241: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,242: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,242: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,242: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,242: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,243: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,243: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,243: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,243: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,244: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,244: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,244: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,244: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,245: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,245: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,245: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,245: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,246: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,246: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,246: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,247: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,247: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,247: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,247: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,248: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,248: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,248: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,248: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,248: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,249: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,249: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,249: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,249: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,250: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,250: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,251: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,251: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,251: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,252: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,252: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,252: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,252: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,253: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,253: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,253: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,253: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,254: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,254: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,254: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,254: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,254: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,255: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,255: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,255: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,255: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,256: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,256: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,256: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,257: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,257: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,257: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,257: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,258: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,258: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,258: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,258: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,259: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,259: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,259: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,259: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,259: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,260: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,260: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,260: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,260: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,261: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,261: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,261: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,261: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,262: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,262: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,262: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,262: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,262: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,263: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,263: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,263: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,263: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,264: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,264: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,264: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,265: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,265: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,265: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,265: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,266: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,266: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,267: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,267: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,267: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,267: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,268: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,268: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,268: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,269: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,269: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,269: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,270: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,270: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,270: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,271: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,271: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,271: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,271: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,272: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,272: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,272: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,272: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,273: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,273: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,273: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,273: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,274: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,274: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,274: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,274: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,275: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,275: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,275: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,275: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,276: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,276: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,276: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,276: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,277: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,277: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,277: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,278: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,278: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,278: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,278: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,279: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,279: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,279: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,279: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,280: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,280: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,280: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,280: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,280: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,281: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,281: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,281: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,281: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,282: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,282: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,282: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,282: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,283: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,283: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,283: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,283: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,284: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,284: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,284: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,284: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,285: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,285: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,285: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,285: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,286: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,286: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,286: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,287: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,287: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,287: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,288: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,288: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,288: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,289: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,289: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,289: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,289: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,290: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,290: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,290: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,290: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,290: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,291: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,291: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,291: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,291: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,292: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,292: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,292: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,292: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,293: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,293: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,293: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,293: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,294: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,294: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,294: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,295: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,295: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,295: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,295: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,296: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,296: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,296: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,296: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,297: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,297: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,297: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,297: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,297: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,298: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,298: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,298: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,298: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,299: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,299: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,300: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,300: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,300: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,301: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,301: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,301: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,301: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,302: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,302: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,302: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,302: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,303: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,303: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,303: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,304: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,304: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,304: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,305: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,305: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,305: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,305: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,305: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,306: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,306: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,306: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,307: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,307: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,307: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,307: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,308: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,308: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,308: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,308: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,309: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,309: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,309: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,309: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,309: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,310: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,310: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,310: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,310: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,311: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,311: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,311: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,311: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,312: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,312: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,312: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,312: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,313: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,313: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,313: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,313: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,313: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,314: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,314: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,314: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,315: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,315: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,315: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,315: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,316: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,316: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,316: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,316: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,317: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,317: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,317: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,318: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,318: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,318: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,318: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,319: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,319: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,319: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,319: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,320: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,320: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,320: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,321: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,321: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,321: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,322: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,322: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,322: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,322: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,323: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,323: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,323: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,323: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,324: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,324: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,324: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,324: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,325: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,325: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,325: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,325: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,326: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,326: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,326: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,326: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,326: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,327: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,327: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,327: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,327: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,328: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,328: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,328: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,328: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,329: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,329: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,329: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,329: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,330: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,330: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,330: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,330: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,330: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,331: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,331: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,331: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,332: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,332: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,332: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,332: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,333: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,333: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,333: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,333: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,334: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,334: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,334: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,335: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,335: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,335: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,336: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,336: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,336: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,337: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,337: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,337: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,337: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,338: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,338: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,338: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,338: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,339: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,339: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,339: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,339: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,340: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,340: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,340: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,340: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,341: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,341: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,341: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,341: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,342: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,342: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,342: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,342: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,343: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,343: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,343: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,343: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,344: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,344: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,344: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,345: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,345: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,345: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,345: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,346: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,346: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,346: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,346: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,346: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,347: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,347: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,347: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,347: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,348: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,348: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,348: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,349: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,349: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,349: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,349: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,350: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,350: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,350: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,350: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,351: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,351: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,352: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,352: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,352: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,353: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,353: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,353: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,353: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,354: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,354: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,354: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,354: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,355: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,355: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,355: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,356: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,356: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,356: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,356: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,357: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,357: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,357: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,357: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,358: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,358: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,358: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,358: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,358: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,359: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,359: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,359: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,359: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,360: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,360: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,360: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,360: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,361: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,361: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,361: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,361: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,362: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,362: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,362: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,362: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,362: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,363: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,363: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,363: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,364: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,364: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,364: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,364: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,365: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,365: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,365: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,365: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,366: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,366: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,366: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,367: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,367: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,367: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,368: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,368: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,368: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,369: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,369: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,369: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,369: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,370: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,370: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,370: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,370: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,371: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,371: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,371: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,371: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,371: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,372: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,372: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,372: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,373: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,373: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,373: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,373: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,374: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,374: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,374: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,374: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,375: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,375: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,375: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,375: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,375: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,376: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,376: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,376: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,376: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,377: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,377: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,377: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,378: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,378: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,378: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,378: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,378: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,379: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,379: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,379: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,379: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,380: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,380: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,380: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,381: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,381: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,382: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,382: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,382: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,383: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,383: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,383: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,383: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,384: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,384: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,384: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,385: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,385: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,385: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,385: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,386: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,386: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,386: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,387: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,387: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,387: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,387: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,388: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,388: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,388: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,388: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,389: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,389: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,389: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,389: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,390: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,390: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,390: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,390: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,391: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,391: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,391: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,391: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,391: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,392: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,392: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,392: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,393: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,393: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,393: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,393: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,394: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,394: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,394: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,394: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,394: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,395: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,395: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,395: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,395: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,396: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,396: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,396: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,396: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,397: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,397: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,397: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,397: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,398: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,398: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,398: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,398: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,398: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,399: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,399: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,400: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,400: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,400: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,400: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,401: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,401: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,401: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,401: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,401: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,402: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,402: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,403: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,403: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,403: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,403: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,404: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,404: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,404: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,405: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,405: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,405: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,405: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,406: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,406: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,406: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,406: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,407: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,407: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,407: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,407: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,407: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,408: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,408: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,408: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,408: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,409: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,409: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,409: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,409: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,410: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,410: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,410: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,410: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,411: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,411: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,411: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,412: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,412: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,413: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,413: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,415: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,415: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,415: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,416: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,416: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,417: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,417: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,417: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,417: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,418: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,418: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,419: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,422: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,423: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,424: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,425: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,426: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,426: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,427: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,427: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,427: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,428: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,430: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,431: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,431: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,431: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,432: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,432: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,432: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,432: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,433: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,433: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,433: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,435: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,437: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,437: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,438: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,439: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,440: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,440: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,443: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,444: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,445: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,445: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,446: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,447: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,447: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,447: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,448: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,448: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,448: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,449: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,449: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,449: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,450: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,451: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,451: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,452: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,452: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,452: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,453: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,453: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,453: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,453: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,454: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,454: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,454: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,455: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,455: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,455: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,456: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,456: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,456: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,457: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,457: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,458: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,458: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,458: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,458: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,459: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,459: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,459: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,460: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,460: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,460: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,460: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,461: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,461: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,462: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,463: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,463: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,463: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,463: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,464: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,464: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,464: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,464: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,465: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,465: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,466: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,467: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,467: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,467: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,467: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,468: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,468: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,469: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,470: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,470: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,471: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,471: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,472: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,472: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,472: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,473: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,473: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,473: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,473: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,474: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,474: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,474: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,474: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,475: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,475: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,475: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,476: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,476: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,476: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,477: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,477: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,477: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,477: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,477: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,478: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,478: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,478: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,479: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,479: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,479: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,479: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,480: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,480: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,480: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,480: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,481: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,481: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,481: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,481: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,482: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,482: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,482: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,482: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,483: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,483: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,483: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,484: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,484: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,485: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,485: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,486: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,486: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,486: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,486: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,487: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,487: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,487: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,487: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,487: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,488: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,488: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,489: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,489: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,489: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,489: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,490: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,490: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,490: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,490: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,490: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,491: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,491: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,491: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,491: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,492: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,492: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,492: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,492: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,493: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,493: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,493: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,493: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,494: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,494: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,494: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,494: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,495: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,495: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,495: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,495: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,496: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,496: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,496: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,496: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,497: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,497: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,497: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,497: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,498: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,498: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,498: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,498: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,498: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,499: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,499: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,500: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,500: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,500: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,500: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,501: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,501: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,501: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,502: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,502: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,502: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,503: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,504: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,504: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,504: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,504: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,505: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,505: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,505: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,506: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,506: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,506: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,506: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,507: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,507: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,507: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,507: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,508: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,508: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,508: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,508: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,508: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,509: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,509: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,509: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,509: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,510: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,510: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,510: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,511: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,511: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,511: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,511: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,511: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,512: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,512: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,512: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,513: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,513: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,513: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,513: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,513: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,514: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,514: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,514: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,515: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,515: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,515: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,515: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,515: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,516: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,516: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,516: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,517: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,517: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,517: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,517: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,518: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,518: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,518: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,519: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,519: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,520: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,520: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,521: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,521: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,521: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,521: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,522: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,522: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,522: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,522: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,523: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,523: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,523: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,523: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,523: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,524: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,524: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,524: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,525: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,525: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,525: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,525: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,526: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,526: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,526: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,526: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,527: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,527: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,527: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,527: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,528: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,528: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,528: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,528: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,529: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,529: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,529: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,529: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,530: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,530: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,530: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,530: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,531: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,531: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,531: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,531: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,532: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,532: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,532: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,532: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,533: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,533: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,533: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,533: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,534: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,534: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,534: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,535: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,535: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,535: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,536: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,536: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,536: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,537: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,537: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,538: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,538: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,538: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,538: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,538: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,539: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,539: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,539: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,539: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,540: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,540: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,540: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,540: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,541: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,541: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,541: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,541: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,542: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,542: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,542: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,542: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,542: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,543: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,543: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,543: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,544: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,544: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,544: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,544: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,545: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,545: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,545: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,545: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,546: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,546: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,546: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,546: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,547: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,547: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,547: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,548: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,548: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,548: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,548: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,549: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,549: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,549: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,549: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,549: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,550: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,550: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,551: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,551: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,551: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,551: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,552: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,552: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,552: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,553: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,553: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,554: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,554: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,554: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,554: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,555: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,555: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,555: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,556: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,556: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,556: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,556: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,557: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,557: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,557: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,557: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,558: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,558: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,558: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,558: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,559: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,559: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,559: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,559: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,560: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,560: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,560: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,560: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,561: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,561: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,561: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,561: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,562: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,562: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,562: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,562: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,563: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,563: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,563: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,563: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,564: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,564: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,564: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,565: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,565: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,565: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,565: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,566: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,566: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,566: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,566: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,567: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,567: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,567: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,568: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,568: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,568: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,569: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,569: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,569: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,569: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,569: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,570: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,570: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,570: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,571: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,571: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,571: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,572: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,572: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,572: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,572: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,572: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,573: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,573: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,573: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,574: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,574: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,574: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,574: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,575: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,575: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,575: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,575: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,576: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,576: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,576: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,576: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,576: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,577: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,577: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,577: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,577: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,578: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,578: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,578: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,578: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,578: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,579: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,579: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,579: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,579: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,580: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,580: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,580: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,580: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,581: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,581: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,581: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,581: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,581: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,582: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,582: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,582: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,582: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,583: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,583: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,584: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,584: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,584: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,584: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,584: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,585: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,585: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,586: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,586: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,586: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,586: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,587: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,587: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,587: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,588: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,588: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,588: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,588: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,589: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,589: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,589: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,589: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,590: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,590: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,590: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,590: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,591: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,591: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,591: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,592: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,592: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,592: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,592: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,593: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,593: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,593: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,593: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,593: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,594: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,594: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,594: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,594: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,595: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,595: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,595: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,595: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,595: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,596: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,596: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,596: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,596: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,597: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,597: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,597: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,597: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,598: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,598: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,598: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,598: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,598: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,599: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,599: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,600: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,600: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,600: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,600: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,601: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,601: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,601: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,601: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,601: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,602: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,602: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,603: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,603: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,603: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,604: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,604: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,604: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,604: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,605: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,605: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,605: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,605: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,606: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,606: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,606: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,606: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,607: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,607: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,607: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,608: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,608: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,608: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,608: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,609: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,609: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,609: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,609: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,610: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,610: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,610: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,610: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,610: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,611: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,611: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,611: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,611: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,612: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,612: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,612: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,612: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,613: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,613: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,613: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,613: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,614: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,614: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,614: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,614: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,614: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,615: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,615: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,615: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,616: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,616: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,616: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,616: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,617: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,617: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,617: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,617: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,618: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,618: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,618: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,619: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,619: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,619: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,620: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,620: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,620: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,620: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,621: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,621: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,621: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,621: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,622: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,622: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,622: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,622: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,623: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,623: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,623: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,623: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,624: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,624: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,624: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,625: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,625: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,625: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,625: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,626: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,626: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,626: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,626: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,627: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,627: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,627: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,627: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,627: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,628: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,628: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,628: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,628: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,629: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,629: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,629: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,629: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,629: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,630: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,630: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,630: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,630: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,631: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,631: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,631: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,631: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,632: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,632: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,632: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,633: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,633: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,633: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,633: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,634: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,634: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,634: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,634: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,635: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,635: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,635: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,636: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,636: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,636: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,637: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,637: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,637: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,637: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,637: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,638: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,638: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,638: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,639: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,639: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,639: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,639: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,640: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,640: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,640: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,640: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,641: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,641: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,641: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,641: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,641: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,642: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,642: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,642: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,642: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,643: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,643: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,643: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,643: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,644: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,644: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,644: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,644: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,645: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,645: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,645: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,645: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,646: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,646: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,646: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,646: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,647: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,647: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,647: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,647: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,648: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,648: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,648: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,648: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,649: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,649: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,649: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,650: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,650: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,650: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,650: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,651: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,651: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,651: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,651: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,652: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,652: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,652: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,653: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,653: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,653: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,654: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,654: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,654: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,654: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,654: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,655: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,655: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,655: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,656: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,656: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,656: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,656: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,657: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,657: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,657: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,657: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,658: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,658: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,658: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,658: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,658: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,659: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,659: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,659: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,659: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,660: root: INFO: FreshTrading : Executing the on_trading_iteration lifecycle method
2023-06-01 20:34:08,660: root: INFO: Getting historical prices for AAPL, 100 bars, day
2023-06-01 20:34:08,660: root: ERROR: 'float' object has no attribute 'tolist'
2023-06-01 20:34:08,661: root: ERROR: Traceback (most recent call last):
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 570, in run
    self._run_trading_session()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 538, in _run_trading_session
    self._on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 261, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 285, in func_output
    result = func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 69, in func_output
    return func_input(self, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/strategies/strategy_executor.py", line 339, in _on_trading_iteration
    on_trading_iteration()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 62, in func_output
    frame, result = call_function_get_frame(func_input, *args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/venv/lib/python3.9/site-packages/lumibot/tools/decorators.py", line 30, in call_function_get_frame
    result = func(*args, **kwargs)
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 126, in on_trading_iteration
    self.FreshStrategy()
  File "/Users/MattyFresh/Documents/FreshProjects/FreshBot/trading/trading_algo.py", line 164, in FreshStrategy
    sma_20 = self.get_sma(df, timeperiod=20).tolist()[0]
AttributeError: 'float' object has no attribute 'tolist'

2023-06-01 20:34:08,661: root: INFO: FreshTrading : Executing the on_bot_crash event method
2023-06-01 20:34:08,661: root: INFO: FreshTrading : [34mSleeping for 60 seconds[0m
2023-06-01 20:34:08,661: root: INFO: Current backtesting datetime 2020-01-02 09:31:00-05:00
2023-06-01 20:34:08,661: root: INFO: Current backtesting datetime 2020-01-02 08:31:00-05:00
2023-06-01 20:34:08,662: root: INFO: FreshTrading : Executing the before_market_opens lifecycle method
2023-06-01 20:34:08,662: root: INFO: Current backtesting datetime 2020-01-02 09:30:00-05:00
2023-06-01 20:34:08,662: root: INFO: FreshTrading : Executing the before_starting_trading lifecycle method
2023-06-01 20:34:08,662: root: INFO: FreshTrading : Executing the on_abrupt_closing event method
2023-06-01 20:34:08,662: root: INFO: Trading finished
2023-06-01 20:34:08,663: root: INFO: Current backtesting datetime 2020-01-02 15:55:00-05:00
2023-06-01 20:34:08,664: root: INFO: Current backtesting datetime 2020-01-02 16:00:00-05:00
2023-06-01 20:34:08,664: backtest_stats: INFO: Backtest took 0:00:02.118828 for a speed of 0.000
2023-06-01 20:34:08,664: root: WARNING: Cannot plot returns because the strategy returns are missing
2023-06-01 20:34:08,664: root: WARNING: Cannot create a tearsheet because the strategy returns are missing
